{
  "url": "https://nextjs.org/docs/app/getting-started/proxy",
  "title": "Proxy",
  "content": "Good to know: Starting with Next.js 16, Middleware is now called Proxy to better reflect its purpose. The functionality remains the same.\n\nProxy allows you to run code before a request is completed. Then, based on the incoming request, you can modify the response by rewriting, redirecting, modifying the request or response headers, or responding directly.\n\nSome common scenarios where Proxy is effective include:\n\nFor simple redirects, consider using the redirects configuration in next.config.ts first. Proxy should be used when you need access to request data or more complex logic.\n\nProxy is not intended for slow data fetching. While Proxy can be helpful for optimistic checks such as permission-based redirects, it should not be used as a full session management or authorization solution.\n\nUsing fetch with options.cache, options.next.revalidate, or options.next.tags, has no effect in Proxy.\n\nCreate a proxy.ts (or .js) file in the project root, or inside src if applicable, so that it is located at the same level as pages or app.\n\nNote: While only one proxy.ts file is supported per project, you can still organize your proxy logic into modules. Break out proxy functionalities into separate .ts or .js files and import them into your main proxy.ts file. This allows for cleaner management of route-specific proxy, aggregated in the proxy.ts for centralized control. By enforcing a single proxy file, it simplifies configuration, prevents potential conflicts, and optimizes performance by avoiding multiple proxy layers.\n\nRead more about using proxy, or refer to the proxy API reference.",
  "headings": [
    {
      "level": "h1",
      "text": "Proxy",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Proxy",
      "id": "proxy"
    },
    {
      "level": "h3",
      "text": "Use cases",
      "id": "use-cases"
    },
    {
      "level": "h3",
      "text": "Convention",
      "id": "convention"
    },
    {
      "level": "h3",
      "text": "Example",
      "id": "example"
    },
    {
      "level": "h2",
      "text": "API Reference",
      "id": "api-reference"
    },
    {
      "level": "h3",
      "text": "proxy.js",
      "id": ""
    },
    {
      "level": "h3",
      "text": "Backend for Frontend",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "import { NextResponse } from 'next/server'\nimport type { NextRequest } from 'next/server'\n \n// This function can be marked `async` if using `await` inside\nexport function proxy(request: NextRequest) {\n  return NextResponse.redirect(new URL('/home', request.url))\n}\n \n// See \"Matching Paths\" below to learn more\nexport const config = {\n  matcher: '/about/:path*',\n}",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://nextjs.org/docs/app",
    "https://nextjs.org/docs/app/getting-started",
    "https://nextjs.org/docs/app/getting-started/proxy",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/redirects",
    "https://nextjs.org/docs/app/guides/authentication",
    "https://nextjs.org/docs/app/guides/backend-for-frontend",
    "https://nextjs.org/docs/app/api-reference/file-conventions/proxy",
    "https://nextjs.org/docs/app/getting-started/route-handlers",
    "https://nextjs.org/docs/app/getting-started/deploying"
  ]
}