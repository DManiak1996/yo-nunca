{
  "url": "https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation",
  "title": "Static Site Generation (SSG)",
  "content": "If a page uses Static Generation, the page HTML is generated at build time. That means in production, the page HTML is generated when you run next build. This HTML will then be reused on each request. It can be cached by a CDN.\n\nIn Next.js, you can statically generate pages with or without data. Let's take a look at each case.\n\nBy default, Next.js pre-renders pages using Static Generation without fetching data. Here's an example:\n\nNote that this page does not need to fetch any external data to be pre-rendered. In cases like this, Next.js generates a single HTML file per page during build time.\n\nSome pages require fetching external data for pre-rendering. There are two scenarios, and one or both might apply. In each case, you can use these functions that Next.js provides:\n\nExample: Your blog page might need to fetch the list of blog posts from a CMS (content management system).\n\nTo fetch this data on pre-render, Next.js allows you to export an async function called getStaticProps from the same file. This function gets called at build time and lets you pass fetched data to the page's props on pre-render.\n\nTo learn more about how getStaticProps works, check out the Data Fetching documentation.\n\nNext.js allows you to create pages with dynamic routes. For example, you can create a file called pages/posts/[id].js to show a single blog post based on id. This will allow you to show a blog post with id: 1 when you access posts/1.\n\nTo learn more about dynamic routing, check the Dynamic Routing documentation.\n\nHowever, which id you want to pre-render at build time might depend on external data.\n\nExample: suppose that you've only added one blog post (with id: 1) to the database. In this case, you'd only want to pre-render posts/1 at build time.\n\nLater, you might add the second post with id: 2. Then you'd want to pre-render posts/2 as well.\n\nSo your page paths that are pre-rendered depend on external data. To handle this, Next.js lets you export an async function called getStaticPaths from a dynamic page (pages/posts/[id].js in this case). This function gets called at build time and lets you specify which paths you want to pre-render.\n\nAlso in pages/posts/[id].js, you need to export getStaticProps so that you can fetch the data about the post with this id and use it to pre-render the page:\n\nTo learn more about how getStaticPaths works, check out the Data Fetching documentation.\n\nWe recommend using Static Generation (with and without data) whenever possible because your page can be built once and served by CDN, which makes it much faster than having a server render the page on every request.\n\nYou can use Static Generation for many types of pages, including:\n\nYou should ask yourself: \"Can I pre-render this page ahead of a user's request?\" If the answer is yes, then you should choose Static Generation.\n\nOn the other hand, Static Generation is not a good idea if you cannot pre-render a page ahead of a user's request. Maybe your page shows frequently updated data, and the page content changes on every request.\n\nIn cases like this, you can do one of the following:",
  "headings": [
    {
      "level": "h1",
      "text": "Static Site Generation (SSG)",
      "id": ""
    },
    {
      "level": "h3",
      "text": "Static Generation without data",
      "id": "static-generation-without-data"
    },
    {
      "level": "h3",
      "text": "Static Generation with data",
      "id": "static-generation-with-data"
    },
    {
      "level": "h4",
      "text": "Scenario 1: Your page content depends on external data",
      "id": "scenario-1-your-page-content-depends-on-external-data"
    },
    {
      "level": "h4",
      "text": "Scenario 2: Your page paths depend on external data",
      "id": "scenario-2-your-page-paths-depend-on-external-data"
    },
    {
      "level": "h3",
      "text": "When should I use Static Generation?",
      "id": "when-should-i-use-static-generation"
    }
  ],
  "code_samples": [
    {
      "code": "function About() {\n  return <div>About</div>\n}\n \nexport default About",
      "language": "unknown"
    },
    {
      "code": "// TODO: Need to fetch `posts` (by calling some API endpoint)\n//       before this page can be pre-rendered.\nexport default function Blog({ posts }) {\n  return (\n    <ul>\n      {posts.map((post) => (\n        <li>{post.title}</li>\n      ))}\n    </ul>\n  )\n}",
      "language": "javascript"
    },
    {
      "code": "export default function Blog({ posts }) {\n  // Render posts...\n}\n \n// This function gets called at build time\nexport async function getStaticProps() {\n  // Call an external API endpoint to get posts\n  const res = await fetch('https://.../posts')\n  const posts = await res.json()\n \n  // By returning { props: { posts } }, the Blog component\n  // will receive `posts` as a prop at build time\n  return {\n    props: {\n      posts,\n    },\n  }\n}",
      "language": "javascript"
    },
    {
      "code": "// This function gets called at build time\nexport async function getStaticPaths() {\n  // Call an external API endpoint to get posts\n  const res = await fetch('https://.../posts')\n  const posts = await res.json()\n \n  // Get the paths we want to pre-render based on posts\n  const paths = posts.map((post) => ({\n    params: { id: post.id },\n  }))\n \n  // We'll pre-render only these paths at build time.\n  // { fallback: false } means other routes should 404.\n  return { paths, fallback: false }\n}",
      "language": "javascript"
    },
    {
      "code": "export default function Post({ post }) {\n  // Render post...\n}\n \nexport async function getStaticPaths() {\n  // ...\n}\n \n// This also gets called at build time\nexport async function getStaticProps({ params }) {\n  // params contains the post `id`.\n  // If the route is like /posts/1, then params.id is 1\n  const res = await fetch(`https://.../posts/${params.id}`)\n  const post = await res.json()\n \n  // Pass post data to the page via props\n  return { props: { post } }\n}",
      "language": "javascript"
    }
  ],
  "patterns": [
    {
      "description": "Building Your ApplicationRenderingStatic Site Generation (SSG)Copy pageStatic Site Generation (SSG)Examples Agility CMS Example (Demo) Builder.io Example (Demo) ButterCMS Example (Demo) Contentful Example (Demo) Cosmic Example (Demo) DatoCMS Example (Demo) DotCMS Example (Demo) Drupal Example (Demo) Enterspeed Example (Demo) GraphCMS Example (Demo) Keystone Example (Demo) Kontent.ai Example (Demo) Makeswift Example (Demo) Plasmic Example (Demo) Prepr Example (Demo) Prismic Example (Demo) Sanity Example (Demo) Sitecore XM Cloud Example (Demo) Storyblok Example (Demo) Strapi Example (Demo) TakeShape Example (Demo) Tina Example (Demo) Umbraco Example (Demo) Umbraco Heartcore Example (Demo) Webiny Example (Demo) WordPress Example (Demo) Blog Starter Example (Demo) Static Tweet (Demo) If a page uses Static Generation, the page HTML is generated at build time. That means in production, the page HTML is generated when you run next build. This HTML will then be reused on each request. It can be cached by a CDN. In Next.js, you can statically generate pages with or without data. Let's take a look at each case. Static Generation without data By default, Next.js pre-renders pages using Static Generation without fetching data. Here's an example: function About() { return <div>About</div> } export default About Note that this page does not need to fetch any external data to be pre-rendered. In cases like this, Next.js generates a single HTML file per page during build time. Static Generation with data Some pages require fetching external data for pre-rendering. There are two scenarios, and one or both might apply. In each case, you can use these functions that Next.js provides: Your page content depends on external data: Use getStaticProps. Your page paths depend on external data: Use getStaticPaths (usually in addition to getStaticProps). Scenario 1: Your page content depends on external data Example: Your blog page might need to fetch the list of blog posts from a CMS (content management system). // TODO: Need to fetch `posts` (by calling some API endpoint) // before this page can be pre-rendered. export default function Blog({ posts }) { return ( <ul> {posts.map((post) => ( <li>{post.title}</li> ))} </ul> ) } To fetch this data on pre-render, Next.js allows you to export an async function called getStaticProps from the same file. This function gets called at build time and lets you pass fetched data to the page's props on pre-render. export default function Blog({ posts }) { // Render posts... } // This function gets called at build time export async function getStaticProps() { // Call an external API endpoint to get posts const res = await fetch('https://.../posts') const posts = await res.json() // By returning { props: { posts } }, the Blog component // will receive `posts` as a prop at build time return { props: { posts, }, } } To learn more about how getStaticProps works, check out the Data Fetching documentation. Scenario 2: Your page paths depend on external data Next.js allows you to create pages with dynamic routes. For example, you can create a file called pages/posts/[id].js to show a single blog post based on id. This will allow you to show a blog post with id: 1 when you access posts/1. To learn more about dynamic routing, check the Dynamic Routing documentation. However, which id you want to pre-render at build time might depend on external data. Example: suppose that you've only added one blog post (with id: 1) to the database. In this case, you'd only want to pre-render posts/1 at build time. Later, you might add the second post with id: 2. Then you'd want to pre-render posts/2 as well. So your page paths that are pre-rendered depend on external data. To handle this, Next.js lets you export an async function called getStaticPaths from a dynamic page (pages/posts/[id].js in this case). This function gets called at build time and lets you specify which paths you want to pre-render. // This function gets called at build time export async function getStaticPaths() { // Call an external API endpoint to get posts const res = await fetch('https://.../posts') const posts = await res.json() // Get the paths we want to pre-render based on posts const paths = posts.map((post) => ({ params: { id: post.id }, })) // We'll pre-render only these paths at build time. // { fallback: false } means other routes should 404. return { paths, fallback: false } } Also in pages/posts/[id].js, you need to export getStaticProps so that you can fetch the data about the post with this id and use it to pre-render the page: export default function Post({ post }) { // Render post... } export async function getStaticPaths() { // ... } // This also gets called at build time export async function getStaticProps({ params }) { // params contains the post `id`. // If the route is like /posts/1, then params.id is 1 const res = await fetch(`https://.../posts/${params.id}`) const post = await res.json() // Pass post data to the page via props return { props: { post } } } To learn more about how getStaticPaths works, check out the Data Fetching documentation. When should I use Static Generation? We recommend using Static Generation (with and without data) whenever possible because your page can be built once and served by CDN, which makes it much faster than having a server render the page on every request. You can use Static Generation for many types of pages, including: Marketing pages Blog posts and portfolios E-commerce product listings Help and documentation You should ask yourself: \"Can I pre-render this page ahead of a user's request?\" If the answer is yes, then you should choose Static Generation. On the other hand, Static Generation is not a good idea if you cannot pre-render a page ahead of a user's request. Maybe your page shows frequently updated data, and the page content changes on every request. In cases like this, you can do one of the following: Use Static Generation with Client-side data fetching: You can skip pre-rendering some parts of a page and then use client-side JavaScript to populate them. To learn more about this approach, check out the Data Fetching documentation. Use Server-Side Rendering: Next.js pre-renders a page on each request. It will be slower because the page cannot be cached by a CDN, but the pre-rendered page will always be up-to-date. We'll talk about this approach below.",
      "code": "next build"
    },
    {
      "description": "Static Site Generation (SSG)Examples Agility CMS Example (Demo) Builder.io Example (Demo) ButterCMS Example (Demo) Contentful Example (Demo) Cosmic Example (Demo) DatoCMS Example (Demo) DotCMS Example (Demo) Drupal Example (Demo) Enterspeed Example (Demo) GraphCMS Example (Demo) Keystone Example (Demo) Kontent.ai Example (Demo) Makeswift Example (Demo) Plasmic Example (Demo) Prepr Example (Demo) Prismic Example (Demo) Sanity Example (Demo) Sitecore XM Cloud Example (Demo) Storyblok Example (Demo) Strapi Example (Demo) TakeShape Example (Demo) Tina Example (Demo) Umbraco Example (Demo) Umbraco Heartcore Example (Demo) Webiny Example (Demo) WordPress Example (Demo) Blog Starter Example (Demo) Static Tweet (Demo) If a page uses Static Generation, the page HTML is generated at build time. That means in production, the page HTML is generated when you run next build. This HTML will then be reused on each request. It can be cached by a CDN. In Next.js, you can statically generate pages with or without data. Let's take a look at each case. Static Generation without data By default, Next.js pre-renders pages using Static Generation without fetching data. Here's an example: function About() { return <div>About</div> } export default About Note that this page does not need to fetch any external data to be pre-rendered. In cases like this, Next.js generates a single HTML file per page during build time. Static Generation with data Some pages require fetching external data for pre-rendering. There are two scenarios, and one or both might apply. In each case, you can use these functions that Next.js provides: Your page content depends on external data: Use getStaticProps. Your page paths depend on external data: Use getStaticPaths (usually in addition to getStaticProps). Scenario 1: Your page content depends on external data Example: Your blog page might need to fetch the list of blog posts from a CMS (content management system). // TODO: Need to fetch `posts` (by calling some API endpoint) // before this page can be pre-rendered. export default function Blog({ posts }) { return ( <ul> {posts.map((post) => ( <li>{post.title}</li> ))} </ul> ) } To fetch this data on pre-render, Next.js allows you to export an async function called getStaticProps from the same file. This function gets called at build time and lets you pass fetched data to the page's props on pre-render. export default function Blog({ posts }) { // Render posts... } // This function gets called at build time export async function getStaticProps() { // Call an external API endpoint to get posts const res = await fetch('https://.../posts') const posts = await res.json() // By returning { props: { posts } }, the Blog component // will receive `posts` as a prop at build time return { props: { posts, }, } } To learn more about how getStaticProps works, check out the Data Fetching documentation. Scenario 2: Your page paths depend on external data Next.js allows you to create pages with dynamic routes. For example, you can create a file called pages/posts/[id].js to show a single blog post based on id. This will allow you to show a blog post with id: 1 when you access posts/1. To learn more about dynamic routing, check the Dynamic Routing documentation. However, which id you want to pre-render at build time might depend on external data. Example: suppose that you've only added one blog post (with id: 1) to the database. In this case, you'd only want to pre-render posts/1 at build time. Later, you might add the second post with id: 2. Then you'd want to pre-render posts/2 as well. So your page paths that are pre-rendered depend on external data. To handle this, Next.js lets you export an async function called getStaticPaths from a dynamic page (pages/posts/[id].js in this case). This function gets called at build time and lets you specify which paths you want to pre-render. // This function gets called at build time export async function getStaticPaths() { // Call an external API endpoint to get posts const res = await fetch('https://.../posts') const posts = await res.json() // Get the paths we want to pre-render based on posts const paths = posts.map((post) => ({ params: { id: post.id }, })) // We'll pre-render only these paths at build time. // { fallback: false } means other routes should 404. return { paths, fallback: false } } Also in pages/posts/[id].js, you need to export getStaticProps so that you can fetch the data about the post with this id and use it to pre-render the page: export default function Post({ post }) { // Render post... } export async function getStaticPaths() { // ... } // This also gets called at build time export async function getStaticProps({ params }) { // params contains the post `id`. // If the route is like /posts/1, then params.id is 1 const res = await fetch(`https://.../posts/${params.id}`) const post = await res.json() // Pass post data to the page via props return { props: { post } } } To learn more about how getStaticPaths works, check out the Data Fetching documentation. When should I use Static Generation? We recommend using Static Generation (with and without data) whenever possible because your page can be built once and served by CDN, which makes it much faster than having a server render the page on every request. You can use Static Generation for many types of pages, including: Marketing pages Blog posts and portfolios E-commerce product listings Help and documentation You should ask yourself: \"Can I pre-render this page ahead of a user's request?\" If the answer is yes, then you should choose Static Generation. On the other hand, Static Generation is not a good idea if you cannot pre-render a page ahead of a user's request. Maybe your page shows frequently updated data, and the page content changes on every request. In cases like this, you can do one of the following: Use Static Generation with Client-side data fetching: You can skip pre-rendering some parts of a page and then use client-side JavaScript to populate them. To learn more about this approach, check out the Data Fetching documentation. Use Server-Side Rendering: Next.js pre-renders a page on each request. It will be slower because the page cannot be cached by a CDN, but the pre-rendered page will always be up-to-date. We'll talk about this approach below.",
      "code": "next build"
    },
    {
      "description": "By default, Next.js pre-renders pages using Static Generation without fetching data. Here's an example:",
      "code": "function About() {\n  return <div>About</div>\n}\n \nexport default About"
    },
    {
      "description": "Example: Your blog page might need to fetch the list of blog posts from a CMS (content management system).",
      "code": "// TODO: Need to fetch `posts` (by calling some API endpoint)\n//       before this page can be pre-rendered.\nexport default function Blog({ posts }) {\n  return (\n    <ul>\n      {posts.map((post) => (\n        <li>{post.title}</li>\n      ))}\n    </ul>\n  )\n}"
    },
    {
      "description": "Example: suppose that you've only added one blog post (with id: 1) to the database. In this case, you'd only want to pre-render posts/1 at build time.",
      "code": "id: 1"
    }
  ],
  "links": [
    "https://nextjs.org/docs/pages/building-your-application",
    "https://nextjs.org/docs/pages/building-your-application/rendering",
    "https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-props",
    "https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-paths",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/client-side",
    "https://nextjs.org/docs/pages/building-your-application/rendering/server-side-rendering",
    "https://nextjs.org/docs/pages/building-your-application/rendering/automatic-static-optimization"
  ]
}