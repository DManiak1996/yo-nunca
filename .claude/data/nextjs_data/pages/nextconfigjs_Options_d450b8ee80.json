{
  "url": "https://nextjs.org/docs/pages/api-reference/config/next-config-js",
  "title": "next.config.js Options",
  "content": "Next.js can be configured through a next.config.js file in the root of your project directory (for example, by package.json) with a default export.\n\nnext.config.js is a regular Node.js module, not a JSON file. It gets used by the Next.js server and build phases, and it's not included in the browser build.\n\nIf you need ECMAScript modules, you can use next.config.mjs:\n\nGood to know: next.config with the .cjs or .cts extensions are currently not supported.\n\nYou can also use a function:\n\nSince Next.js 12.1.0, you can use an async function:\n\nphase is the current context in which the configuration is loaded. You can see the available phases. Phases can be imported from next/constants:\n\nIf you are using TypeScript in your project, you can use next.config.ts to use TypeScript in your configuration:\n\nThe commented lines are the place where you can put the configs allowed by next.config.js, which are defined in this file.\n\nHowever, none of the configs are required, and it's not necessary to understand what each config does. Instead, search for the features you need to enable or modify in this section and they will show you what to do.\n\nAvoid using new JavaScript features not available in your target Node.js version. next.config.js will not be parsed by Webpack or Babel.\n\nThis page documents all the available configuration options:\n\nStarting in Next.js 15.1, the next/experimental/testing/server package contains utilities to help unit test next.config.js files.\n\nThe unstable_getResponseFromNextConfig function runs the headers, redirects, and rewrites functions from next.config.js with the provided request information and returns NextResponse with the results of the routing.\n\nThe response from unstable_getResponseFromNextConfig only considers next.config.js fields and does not consider proxy or filesystem routes, so the result in production may be different than the unit test.",
  "headings": [
    {
      "level": "h1",
      "text": "next.config.js Options",
      "id": ""
    },
    {
      "level": "h2",
      "text": "ECMAScript Modules",
      "id": "ecmascript-modules"
    },
    {
      "level": "h2",
      "text": "Configuration as a Function",
      "id": "configuration-as-a-function"
    },
    {
      "level": "h3",
      "text": "Async Configuration",
      "id": "async-configuration"
    },
    {
      "level": "h3",
      "text": "Phase",
      "id": "phase"
    },
    {
      "level": "h2",
      "text": "TypeScript",
      "id": "typescript"
    },
    {
      "level": "h2",
      "text": "Unit Testing (experimental)",
      "id": "unit-testing-experimental"
    },
    {
      "level": "h3",
      "text": "experimental.adapterPath",
      "id": ""
    },
    {
      "level": "h3",
      "text": "allowedDevOrigins",
      "id": ""
    },
    {
      "level": "h3",
      "text": "assetPrefix",
      "id": ""
    },
    {
      "level": "h3",
      "text": "basePath",
      "id": ""
    },
    {
      "level": "h3",
      "text": "bundlePagesRouterDependencies",
      "id": ""
    },
    {
      "level": "h3",
      "text": "compress",
      "id": ""
    },
    {
      "level": "h3",
      "text": "crossOrigin",
      "id": ""
    },
    {
      "level": "h3",
      "text": "devIndicators",
      "id": ""
    },
    {
      "level": "h3",
      "text": "distDir",
      "id": ""
    },
    {
      "level": "h3",
      "text": "env",
      "id": ""
    },
    {
      "level": "h3",
      "text": "exportPathMap",
      "id": ""
    },
    {
      "level": "h3",
      "text": "generateBuildId",
      "id": ""
    },
    {
      "level": "h3",
      "text": "generateEtags",
      "id": ""
    },
    {
      "level": "h3",
      "text": "headers",
      "id": ""
    },
    {
      "level": "h3",
      "text": "httpAgentOptions",
      "id": ""
    },
    {
      "level": "h3",
      "text": "images",
      "id": ""
    },
    {
      "level": "h3",
      "text": "isolatedDevBuild",
      "id": ""
    },
    {
      "level": "h3",
      "text": "onDemandEntries",
      "id": ""
    },
    {
      "level": "h3",
      "text": "optimizePackageImports",
      "id": ""
    },
    {
      "level": "h3",
      "text": "output",
      "id": ""
    },
    {
      "level": "h3",
      "text": "pageExtensions",
      "id": ""
    },
    {
      "level": "h3",
      "text": "poweredByHeader",
      "id": ""
    },
    {
      "level": "h3",
      "text": "productionBrowserSourceMaps",
      "id": ""
    },
    {
      "level": "h3",
      "text": "experimental.proxyClientMaxBodySize",
      "id": ""
    },
    {
      "level": "h3",
      "text": "reactStrictMode",
      "id": ""
    },
    {
      "level": "h3",
      "text": "redirects",
      "id": ""
    },
    {
      "level": "h3",
      "text": "rewrites",
      "id": ""
    },
    {
      "level": "h3",
      "text": "serverExternalPackages",
      "id": ""
    },
    {
      "level": "h3",
      "text": "trailingSlash",
      "id": ""
    },
    {
      "level": "h3",
      "text": "transpilePackages",
      "id": ""
    },
    {
      "level": "h3",
      "text": "turbopack",
      "id": ""
    },
    {
      "level": "h3",
      "text": "typescript",
      "id": ""
    },
    {
      "level": "h3",
      "text": "urlImports",
      "id": ""
    },
    {
      "level": "h3",
      "text": "useLightningcss",
      "id": ""
    },
    {
      "level": "h3",
      "text": "webpack",
      "id": ""
    },
    {
      "level": "h3",
      "text": "webVitalsAttribution",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "// @ts-check\n \n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  /* config options here */\n}\n \nmodule.exports = nextConfig",
      "language": "javascript"
    },
    {
      "code": "// @ts-check\n \n/**\n * @type {import('next').NextConfig}\n */\nconst nextConfig = {\n  /* config options here */\n}\n \nexport default nextConfig",
      "language": "javascript"
    },
    {
      "code": "// @ts-check\n \nexport default (phase, { defaultConfig }) => {\n  /**\n   * @type {import('next').NextConfig}\n   */\n  const nextConfig = {\n    /* config options here */\n  }\n  return nextConfig\n}",
      "language": "javascript"
    },
    {
      "code": "// @ts-check\n \nmodule.exports = async (phase, { defaultConfig }) => {\n  /**\n   * @type {import('next').NextConfig}\n   */\n  const nextConfig = {\n    /* config options here */\n  }\n  return nextConfig\n}",
      "language": "javascript"
    },
    {
      "code": "// @ts-check\n \nconst { PHASE_DEVELOPMENT_SERVER } = require('next/constants')\n \nmodule.exports = (phase, { defaultConfig }) => {\n  if (phase === PHASE_DEVELOPMENT_SERVER) {\n    return {\n      /* development only config options here */\n    }\n  }\n \n  return {\n    /* config options for all phases except development here */\n  }\n}",
      "language": "javascript"
    },
    {
      "code": "import type { NextConfig } from 'next'\n \nconst nextConfig: NextConfig = {\n  /* config options here */\n}\n \nexport default nextConfig",
      "language": "python"
    },
    {
      "code": "import {\n  getRedirectUrl,\n  unstable_getResponseFromNextConfig,\n} from 'next/experimental/testing/server'\n \nconst response = await unstable_getResponseFromNextConfig({\n  url: 'https://nextjs.org/test',\n  nextConfig: {\n    async redirects() {\n      return [{ source: '/test', destination: '/test2', permanent: false }]\n    },\n  },\n})\nexpect(response.status).toEqual(307)\nexpect(getRedirectUrl(response)).toEqual('https://nextjs.org/test2')",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://nextjs.org/docs/pages/api-reference",
    "https://nextjs.org/docs/pages/api-reference/config",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/headers",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/redirects",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/rewrites",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/adapterPath",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/allowedDevOrigins",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/assetPrefix",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/basePath",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/bundlePagesRouterDependencies",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/compress",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/crossOrigin",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/devIndicators",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/distDir",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/env",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/exportPathMap",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/generateBuildId",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/generateEtags",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/headers",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/httpAgentOptions",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/images",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/isolatedDevBuild",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/onDemandEntries",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/optimizePackageImports",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/output",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/pageExtensions",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/poweredByHeader",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/productionBrowserSourceMaps",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/proxyClientMaxBodySize",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/reactStrictMode",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/redirects",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/rewrites",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/serverExternalPackages",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/trailingSlash",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/transpilePackages",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/turbopack",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/typescript",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/urlImports",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/useLightningcss",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/webpack",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/webVitalsAttribution"
  ]
}