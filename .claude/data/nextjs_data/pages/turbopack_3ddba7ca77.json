{
  "url": "https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack",
  "title": "turbopack",
  "content": "The turbopack option lets you customize Turbopack to transform different files and change how modules are resolved.\n\nGood to know: The turbopack option was previously named experimental.turbo in Next.js versions 13.0.0 to 15.2.x. The experimental.turbo option will be removed in Next.js 16.\n\nIf you are using an older version of Next.js, run npx @next/codemod@latest next-experimental-turbo-to-turbopack . to automatically migrate your configuration.\n\nThe following options are available for the turbopack configuration:\n\nThe following loaders have been tested to work with Turbopack's webpack loader implementation, but many other webpack loaders should work as well even if not listed here:\n\nTurbopack uses the loader-runner library to execute webpack loaders, which provides most of the standard loader API. However, some features are not supported:\n\nFile system and output:\n\nIf you have a loader that is critically dependent upon one of these features please file an issue.\n\nTurbopack uses the root directory to resolve modules. Files outside of the project root are not resolved.\n\nNext.js automatically detects the root directory of your project. It does so by looking for one of these files:\n\nIf you have a different project structure, for example if you don't use workspaces, you can manually set the root option:\n\nIf you need loader support beyond what's built in, many webpack loaders already work with Turbopack. There are currently some limitations:\n\nTo configure loaders, add the names of the loaders you've installed and any options in next.config.js, mapping file extensions to a list of loaders. Rules are evaluated in order.\n\nHere is an example below using the @svgr/webpack loader, which enables importing .svg files and rendering them as React components.\n\nGood to know: Globs used in the rules object match based on file name, unless the glob contains a / character, which will cause it to match based on the full project-relative file path. Windows file paths are normalized to use unix-style / path separators.\n\nTurbopack uses a modified version of the Rust globset library.\n\nFor loaders that require configuration options, you can use an object format instead of a string:\n\nGood to know: Prior to Next.js version 13.4.4, turbopack.rules was named turbo.loaders and only accepted file extensions like .mdx instead of *.mdx.\n\nYou can further restrict where a loader runs using the advanced condition syntax:\n\nIn addition, a number of built-in conditions are supported:\n\nRules can be an object or an array of objects. An array is often useful for modeling disjoint conditions:\n\nGood to know: All matching rules are executed in order.\n\nTurbopack can be configured to modify module resolution through aliases, similar to webpack's resolve.alias configuration.\n\nTo configure resolve aliases, map imported patterns to their new destination in next.config.js:\n\nThis aliases imports of the underscore package to the lodash package. In other words, import underscore from 'underscore' will load the lodash module instead of underscore.\n\nTurbopack also supports conditional aliasing through this field, similar to Node.js' conditional exports. At the moment only the browser condition is supported. In the case above, imports of the mocha module will be aliased to mocha/browser-entry.js when Turbopack targets browser environments.\n\nTurbopack can be configured to resolve modules with custom extensions, similar to webpack's resolve.extensions configuration.\n\nTo configure resolve extensions, use the resolveExtensions field in next.config.js:\n\nThis overwrites the original resolve extensions with the provided list. Make sure to include the default extensions.\n\nFor more information and guidance for how to migrate your app to Turbopack from webpack, see Turbopack's documentation on webpack compatibility.\n\nTurbopack can be configured to generate debug IDs in JavaScript bundles and source maps.\n\nTo configure debug IDs, use the debugIds field in next.config.js:\n\nThe option automatically adds a polyfill for debug IDs to the JavaScript bundle to ensure compatibility. The debug IDs are available in the globalThis._debugIds global variable.",
  "headings": [
    {
      "level": "h1",
      "text": "turbopack",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Reference",
      "id": "reference"
    },
    {
      "level": "h3",
      "text": "Options",
      "id": "options"
    },
    {
      "level": "h3",
      "text": "Supported loaders",
      "id": "supported-loaders"
    },
    {
      "level": "h4",
      "text": "Missing Webpack loader features",
      "id": "missing-webpack-loader-features"
    },
    {
      "level": "h2",
      "text": "Examples",
      "id": "examples"
    },
    {
      "level": "h3",
      "text": "Root directory",
      "id": "root-directory"
    },
    {
      "level": "h3",
      "text": "Configuring webpack loaders",
      "id": "configuring-webpack-loaders"
    },
    {
      "level": "h3",
      "text": "Advanced webpack loader conditions",
      "id": "advanced-webpack-loader-conditions"
    },
    {
      "level": "h3",
      "text": "Resolving aliases",
      "id": "resolving-aliases"
    },
    {
      "level": "h3",
      "text": "Resolving custom extensions",
      "id": "resolving-custom-extensions"
    },
    {
      "level": "h3",
      "text": "Debug IDs",
      "id": "debug-ids"
    },
    {
      "level": "h2",
      "text": "Version History",
      "id": "version-history"
    }
  ],
  "code_samples": [
    {
      "code": "import type { NextConfig } from 'next'\n \nconst nextConfig: NextConfig = {\n  turbopack: {\n    // ...\n  },\n}\n \nexport default nextConfig",
      "language": "python"
    },
    {
      "code": "const path = require('path')\nmodule.exports = {\n  turbopack: {\n    root: path.join(__dirname, '..'),\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    rules: {\n      '*.svg': {\n        loaders: ['@svgr/webpack'],\n        as: '*.js',\n      },\n    },\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    rules: {\n      '*.svg': {\n        loaders: [\n          {\n            loader: '@svgr/webpack',\n            options: {\n              icon: true,\n            },\n          },\n        ],\n        as: '*.js',\n      },\n    },\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    rules: {\n      // '*' will match all file paths, but we restrict where our\n      // rule runs with a condition.\n      '*': {\n        condition: {\n          all: [\n            // 'foreign' is a built-in condition.\n            { not: 'foreign' },\n            // 'path' can be a RegExp or a glob string. A RegExp matches\n            // anywhere in the full project-relative file path.\n            { path: /^img\\/[0-9]{3}\\// },\n            {\n              any: [\n                { path: '*.svg' },\n                // 'content' is always a RegExp, and can match\n                // anywhere in the file.\n                { content: /\\<svg\\W/ },\n              ],\n            },\n          ],\n        },\n        loaders: ['@svgr/webpack'],\n        as: '*.js',\n      },\n    },\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    rules: {\n      '*.svg': [\n        {\n          condition: 'browser',\n          loaders: ['@svgr/webpack'],\n          as: '*.js',\n        },\n        {\n          condition: { not: 'browser' },\n          loaders: [require.resolve('./custom-svg-loader.js')],\n          as: '*.js',\n        },\n      ],\n    },\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    resolveAlias: {\n      underscore: 'lodash',\n      mocha: { browser: 'mocha/browser-entry.js' },\n    },\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    resolveExtensions: ['.mdx', '.tsx', '.ts', '.jsx', '.js', '.mjs', '.json'],\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  turbopack: {\n    debugIds: true,\n  },\n}",
      "language": "unknown"
    }
  ],
  "patterns": [],
  "links": [
    "https://nextjs.org/docs/app/api-reference/config",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js",
    "https://nextjs.org/docs/app/api-reference/turbopack",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack",
    "https://nextjs.org/docs/app/api-reference/edge",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/transpilePackages",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopackFileSystemCache"
  ]
}