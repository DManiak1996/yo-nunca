{
  "url": "https://nextjs.org/docs/app/api-reference/functions/generate-metadata",
  "title": "generateMetadata",
  "content": "You can use the metadata object or the generateMetadata function to define metadata.\n\nTo define static metadata, export a Metadata object from a layout.js or page.js file.\n\nSee the Metadata Fields for a complete list of supported options.\n\nDynamic metadata depends on dynamic information, such as the current route parameters, external data, or metadata in parent segments, can be set by exporting a generateMetadata function that returns a Metadata object.\n\nResolving generateMetadata is part of rendering the page. If the page can be pre-rendered and generateMetadata doesn't introduce dynamic behavior, the resulting metadata is included in the page’s initial HTML.\n\nOtherwise the metadata resolved from generateMetadata can be streamed after sending the initial UI.\n\nFor type completion of params and searchParams, you can type the first argument with PageProps<'/route'> or LayoutProps<'/route'> for pages and layouts respectively.\n\ngenerateMetadata function accepts the following parameters:\n\nprops - An object containing the parameters of the current route:\n\nparams - An object containing the dynamic route parameters object from the root segment down to the segment generateMetadata is called from. Examples:\n\nsearchParams - An object containing the current URL's search params. Examples:\n\nparent - A promise of the resolved metadata from parent route segments.\n\ngenerateMetadata should return a Metadata object containing one or more metadata fields.\n\nThe following fields are supported:\n\nThe title attribute is used to set the title of the document. It can be defined as a simple string or an optional template object.\n\ntitle.default can be used to provide a fallback title to child route segments that don't define a title.\n\ntitle.template can be used to add a prefix or a suffix to titles defined in child route segments.\n\ntitle.absolute can be used to provide a title that ignores title.template set in parent segments.\n\nmetadataBase is a convenience option to set a base URL prefix for metadata fields that require a fully qualified URL.\n\nURL composition favors developer intent over default directory traversal semantics.\n\nFor example, given the following metadataBase:\n\nAny metadata fields that inherit the above metadataBase and set their own value will be resolved as follows:\n\nGood to know: We recommend using the file-based Metadata API for icons where possible. Rather than having to sync the config export with actual files, the file-based API will automatically generate the correct metadata for you.\n\nGood to know: The msapplication-* meta tags are no longer supported in Chromium builds of Microsoft Edge, and thus no longer needed.\n\nDeprecated: The themeColor option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead.\n\nDeprecated: The colorScheme option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead.\n\nA web application manifest, as defined in the Web Application Manifest specification.\n\nThe Twitter specification is (surprisingly) used for more than just X (formerly known as Twitter).\n\nLearn more about the Twitter Card markup reference.\n\nDeprecated: The viewport option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead.\n\nDescribes a collection of records, documents, or other materials of historical interest (source).\n\nYou can connect a Facebook app or Facebook account to your webpage for certain Facebook Social Plugins Facebook Documentation\n\nGood to know: You can specify either appId or admins, but not both.\n\nIf you want to generate multiple fb:admins meta tags you can use array value.\n\nYou can enable or disable Pinterest Rich Pins on your webpage.\n\nAll metadata options should be covered using the built-in support. However, there may be custom metadata tags specific to your site, or brand new metadata tags just released. You can use the other option to render any custom metadata tag.\n\nIf you want to generate multiple same key meta tags you can use array value.\n\nYou can add type safety to your metadata by using the Metadata type. If you are using the built-in TypeScript plugin in your IDE, you do not need to manually add the type, but you can still explicitly add it if you want.\n\nFor JavaScript projects, you can use JSDoc to add type safety.\n\nThe following metadata types do not currently have built-in support. However, they can still be rendered in the layout or page itself.\n\nThe <link> element has a number of rel keywords that can be used to hint to the browser that an external resource is likely to be needed. The browser uses this information to apply preloading optimizations depending on the keyword.\n\nWhile the Metadata API doesn't directly support these hints, you can use new ReactDOM methods to safely insert them into the <head> of the document.\n\nStart loading a resource early in the page rendering (browser) lifecycle. MDN Docs.\n\nPreemptively initiate a connection to an origin. MDN Docs.\n\nAttempt to resolve a domain name before resources get requested. MDN Docs.\n\nThere are two default meta tags that are always added even if a route doesn't define metadata:\n\nGood to know: You can overwrite the default viewport meta tag.\n\nStreaming metadata allows Next.js to render and send the initial UI to the browser, without waiting for generateMetadata to complete.\n\nWhen generateMetadata resolves, the resulting metadata tags are appended to the <body> tag. We have verified that metadata is interpreted correctly by bots that execute JavaScript and inspect the full DOM (e.g. Googlebot).\n\nFor HTML-limited bots that can’t execute JavaScript (e.g. facebookexternalhit), metadata continues to block page rendering. The resulting metadata will be available in the <head> tag.\n\nNext.js automatically detects HTML-limited bots by looking at the User Agent header. You can use the htmlLimitedBots option in your Next.js config file to override the default User Agent list.\n\nTo fully disable streaming metadata:\n\nStreaming metadata improves perceived performance by reducing TTFB and can help lowering LCP time.\n\nOverriding htmlLimitedBots could lead to longer response times. Streaming metadata is an advanced feature, and the default should be sufficient for most cases.\n\nMetadata is evaluated in order, starting from the root segment down to the segment closest to the final page.js segment. For example:\n\nFollowing the evaluation order, Metadata objects exported from multiple segments in the same route are shallowly merged together to form the final metadata output of a route. Duplicate keys are replaced based on their ordering.\n\nThis means metadata with nested fields such as openGraph and robots that are defined in an earlier segment are overwritten by the last segment to define them.\n\nIn the example above:\n\nIf you'd like to share some nested fields between segments while overwriting others, you can pull them out into a separate variable:\n\nIn the example above, the OG image is shared between app/layout.js and app/about/page.js while the titles are different.",
  "headings": [
    {
      "level": "h1",
      "text": "generateMetadata",
      "id": ""
    },
    {
      "level": "h2",
      "text": "The metadata object",
      "id": "the-metadata-object"
    },
    {
      "level": "h2",
      "text": "generateMetadata function",
      "id": "generatemetadata-function"
    },
    {
      "level": "h2",
      "text": "Reference",
      "id": "reference"
    },
    {
      "level": "h3",
      "text": "Parameters",
      "id": "parameters"
    },
    {
      "level": "h3",
      "text": "Returns",
      "id": "returns"
    },
    {
      "level": "h3",
      "text": "Metadata Fields",
      "id": "metadata-fields"
    },
    {
      "level": "h4",
      "text": "title",
      "id": "title"
    },
    {
      "level": "h5",
      "text": "String",
      "id": "string"
    },
    {
      "level": "h5",
      "text": "default",
      "id": "default"
    },
    {
      "level": "h5",
      "text": "template",
      "id": "template"
    },
    {
      "level": "h5",
      "text": "absolute",
      "id": "absolute"
    },
    {
      "level": "h3",
      "text": "description",
      "id": "description"
    },
    {
      "level": "h3",
      "text": "Other fields",
      "id": "other-fields"
    },
    {
      "level": "h4",
      "text": "metadataBase",
      "id": "metadatabase"
    },
    {
      "level": "h4",
      "text": "URL Composition",
      "id": "url-composition"
    },
    {
      "level": "h3",
      "text": "openGraph",
      "id": "opengraph"
    },
    {
      "level": "h3",
      "text": "robots",
      "id": "robots"
    },
    {
      "level": "h3",
      "text": "icons",
      "id": "icons"
    },
    {
      "level": "h3",
      "text": "themeColor",
      "id": "themecolor"
    },
    {
      "level": "h3",
      "text": "colorScheme",
      "id": "colorscheme"
    },
    {
      "level": "h3",
      "text": "manifest",
      "id": "manifest"
    },
    {
      "level": "h3",
      "text": "twitter",
      "id": "twitter"
    },
    {
      "level": "h3",
      "text": "viewport",
      "id": "viewport"
    },
    {
      "level": "h3",
      "text": "verification",
      "id": "verification"
    },
    {
      "level": "h3",
      "text": "appleWebApp",
      "id": "applewebapp"
    },
    {
      "level": "h3",
      "text": "alternates",
      "id": "alternates"
    },
    {
      "level": "h3",
      "text": "appLinks",
      "id": "applinks"
    },
    {
      "level": "h3",
      "text": "archives",
      "id": "archives"
    },
    {
      "level": "h3",
      "text": "assets",
      "id": "assets"
    },
    {
      "level": "h3",
      "text": "bookmarks",
      "id": "bookmarks"
    },
    {
      "level": "h3",
      "text": "category",
      "id": "category"
    },
    {
      "level": "h3",
      "text": "facebook",
      "id": "facebook"
    },
    {
      "level": "h3",
      "text": "pinterest",
      "id": "pinterest"
    },
    {
      "level": "h3",
      "text": "other",
      "id": "other"
    },
    {
      "level": "h3",
      "text": "Types",
      "id": "types"
    },
    {
      "level": "h4",
      "text": "metadata object",
      "id": "metadata-object"
    },
    {
      "level": "h4",
      "text": "generateMetadata function",
      "id": "generatemetadata-function-1"
    },
    {
      "level": "h5",
      "text": "Regular function",
      "id": "regular-function"
    },
    {
      "level": "h5",
      "text": "Async function",
      "id": "async-function"
    },
    {
      "level": "h5",
      "text": "With segment props",
      "id": "with-segment-props"
    },
    {
      "level": "h5",
      "text": "With parent metadata",
      "id": "with-parent-metadata"
    },
    {
      "level": "h5",
      "text": "JavaScript Projects",
      "id": "javascript-projects"
    },
    {
      "level": "h3",
      "text": "Unsupported Metadata",
      "id": "unsupported-metadata"
    },
    {
      "level": "h3",
      "text": "Resource hints",
      "id": "resource-hints"
    },
    {
      "level": "h4",
      "text": "<link rel=\"preload\">",
      "id": "link-relpreload"
    },
    {
      "level": "h5",
      "text": "<link rel=\"preconnect\">",
      "id": "link-relpreconnect"
    },
    {
      "level": "h4",
      "text": "<link rel=\"dns-prefetch\">",
      "id": "link-reldns-prefetch"
    },
    {
      "level": "h2",
      "text": "Behavior",
      "id": "behavior"
    },
    {
      "level": "h3",
      "text": "Default Fields",
      "id": "default-fields"
    },
    {
      "level": "h3",
      "text": "Streaming metadata",
      "id": "streaming-metadata"
    },
    {
      "level": "h3",
      "text": "Ordering",
      "id": "ordering"
    },
    {
      "level": "h3",
      "text": "Merging",
      "id": "merging"
    },
    {
      "level": "h4",
      "text": "Overwriting fields",
      "id": "overwriting-fields"
    },
    {
      "level": "h4",
      "text": "Inheriting fields",
      "id": "inheriting-fields"
    },
    {
      "level": "h2",
      "text": "Version History",
      "id": "version-history"
    },
    {
      "level": "h2",
      "text": "Next Steps",
      "id": "next-steps"
    },
    {
      "level": "h3",
      "text": "Metadata Files",
      "id": ""
    },
    {
      "level": "h3",
      "text": "generateViewport",
      "id": ""
    }
  ],
  "code_samples": [
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: '...',\n  description: '...',\n}\n \nexport default function Page() {}",
      "language": "python"
    },
    {
      "code": "import type { Metadata, ResolvingMetadata } from 'next'\n \ntype Props = {\n  params: Promise<{ id: string }>\n  searchParams: Promise<{ [key: string]: string | string[] | undefined }>\n}\n \nexport async function generateMetadata(\n  { params, searchParams }: Props,\n  parent: ResolvingMetadata\n): Promise<Metadata> {\n  // read route params\n  const { id } = await params\n \n  // fetch data\n  const product = await fetch(`https://.../${id}`).then((res) => res.json())\n \n  // optionally access and extend (rather than replace) parent metadata\n  const previousImages = (await parent).openGraph?.images || []\n \n  return {\n    title: product.title,\n    openGraph: {\n      images: ['/some-specific-page-image.jpg', ...previousImages],\n    },\n  }\n}\n \nexport default function Page({ params, searchParams }: Props) {}",
      "language": "python"
    },
    {
      "code": "export const metadata = {\n  title: 'Next.js',\n}",
      "language": "javascript"
    },
    {
      "code": "<title>Next.js</title>",
      "language": "unknown"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: {\n    default: 'Acme',\n  },\n}",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {}\n \n// Output: <title>Acme</title>",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: {\n    template: '%s | Acme',\n    default: 'Acme', // a default is required when creating a template\n  },\n}",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: 'About',\n}\n \n// Output: <title>About | Acme</title>",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: {\n    template: '%s | Acme',\n  },\n}",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: {\n    absolute: 'About',\n  },\n}\n \n// Output: <title>About</title>",
      "language": "python"
    },
    {
      "code": "export const metadata = {\n  description: 'The React Framework for the Web',\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"description\" content=\"The React Framework for the Web\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  generator: 'Next.js',\n  applicationName: 'Next.js',\n  referrer: 'origin-when-cross-origin',\n  keywords: ['Next.js', 'React', 'JavaScript'],\n  authors: [{ name: 'Seb' }, { name: 'Josh', url: 'https://nextjs.org' }],\n  creator: 'Jiachi Liu',\n  publisher: 'Sebastian Markbåge',\n  formatDetection: {\n    email: false,\n    address: false,\n    telephone: false,\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"application-name\" content=\"Next.js\" />\n<meta name=\"author\" content=\"Seb\" />\n<link rel=\"author\" href=\"https://nextjs.org\" />\n<meta name=\"author\" content=\"Josh\" />\n<meta name=\"generator\" content=\"Next.js\" />\n<meta name=\"keywords\" content=\"Next.js,React,JavaScript\" />\n<meta name=\"referrer\" content=\"origin-when-cross-origin\" />\n<meta name=\"color-scheme\" content=\"dark\" />\n<meta name=\"creator\" content=\"Jiachi Liu\" />\n<meta name=\"publisher\" content=\"Sebastian Markbåge\" />\n<meta name=\"format-detection\" content=\"telephone=no, address=no, email=no\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  metadataBase: new URL('https://acme.com'),\n  alternates: {\n    canonical: '/',\n    languages: {\n      'en-US': '/en-US',\n      'de-DE': '/de-DE',\n    },\n  },\n  openGraph: {\n    images: '/og-image.png',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"canonical\" href=\"https://acme.com\" />\n<link rel=\"alternate\" hreflang=\"en-US\" href=\"https://acme.com/en-US\" />\n<link rel=\"alternate\" hreflang=\"de-DE\" href=\"https://acme.com/de-DE\" />\n<meta property=\"og:image\" content=\"https://acme.com/og-image.png\" />",
      "language": "unknown"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  metadataBase: new URL('https://acme.com'),\n}",
      "language": "python"
    },
    {
      "code": "export const metadata = {\n  openGraph: {\n    title: 'Next.js',\n    description: 'The React Framework for the Web',\n    url: 'https://nextjs.org',\n    siteName: 'Next.js',\n    images: [\n      {\n        url: 'https://nextjs.org/og.png', // Must be an absolute URL\n        width: 800,\n        height: 600,\n      },\n      {\n        url: 'https://nextjs.org/og-alt.png', // Must be an absolute URL\n        width: 1800,\n        height: 1600,\n        alt: 'My custom alt',\n      },\n    ],\n    videos: [\n      {\n        url: 'https://nextjs.org/video.mp4', // Must be an absolute URL\n        width: 800,\n        height: 600,\n      },\n    ],\n    audio: [\n      {\n        url: 'https://nextjs.org/audio.mp3', // Must be an absolute URL\n      },\n    ],\n    locale: 'en_US',\n    type: 'website',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta property=\"og:title\" content=\"Next.js\" />\n<meta property=\"og:description\" content=\"The React Framework for the Web\" />\n<meta property=\"og:url\" content=\"https://nextjs.org/\" />\n<meta property=\"og:site_name\" content=\"Next.js\" />\n<meta property=\"og:locale\" content=\"en_US\" />\n<meta property=\"og:image\" content=\"https://nextjs.org/og.png\" />\n<meta property=\"og:image:width\" content=\"800\" />\n<meta property=\"og:image:height\" content=\"600\" />\n<meta property=\"og:image\" content=\"https://nextjs.org/og-alt.png\" />\n<meta property=\"og:image:width\" content=\"1800\" />\n<meta property=\"og:image:height\" content=\"1600\" />\n<meta property=\"og:image:alt\" content=\"My custom alt\" />\n<meta property=\"og:video\" content=\"https://nextjs.org/video.mp4\" />\n<meta property=\"og:video:width\" content=\"800\" />\n<meta property=\"og:video:height\" content=\"600\" />\n<meta property=\"og:audio\" content=\"https://nextjs.org/audio.mp3\" />\n<meta property=\"og:type\" content=\"website\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  openGraph: {\n    title: 'Next.js',\n    description: 'The React Framework for the Web',\n    type: 'article',\n    publishedTime: '2023-01-01T00:00:00.000Z',\n    authors: ['Seb', 'Josh'],\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta property=\"og:title\" content=\"Next.js\" />\n<meta property=\"og:description\" content=\"The React Framework for the Web\" />\n<meta property=\"og:type\" content=\"article\" />\n<meta property=\"article:published_time\" content=\"2023-01-01T00:00:00.000Z\" />\n<meta property=\"article:author\" content=\"Seb\" />\n<meta property=\"article:author\" content=\"Josh\" />",
      "language": "unknown"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  robots: {\n    index: true,\n    follow: true,\n    nocache: false,\n    googleBot: {\n      index: true,\n      follow: true,\n      noimageindex: false,\n      'max-video-preview': -1,\n      'max-image-preview': 'large',\n      'max-snippet': -1,\n    },\n  },\n}",
      "language": "python"
    },
    {
      "code": "<meta name=\"robots\" content=\"index, follow\" />\n<meta\n  name=\"googlebot\"\n  content=\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"\n/>",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  icons: {\n    icon: '/icon.png',\n    shortcut: '/shortcut-icon.png',\n    apple: '/apple-icon.png',\n    other: {\n      rel: 'apple-touch-icon-precomposed',\n      url: '/apple-touch-icon-precomposed.png',\n    },\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"shortcut icon\" href=\"/shortcut-icon.png\" />\n<link rel=\"icon\" href=\"/icon.png\" />\n<link rel=\"apple-touch-icon\" href=\"/apple-icon.png\" />\n<link\n  rel=\"apple-touch-icon-precomposed\"\n  href=\"/apple-touch-icon-precomposed.png\"\n/>",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  icons: {\n    icon: [\n      { url: '/icon.png' },\n      new URL('/icon.png', 'https://example.com'),\n      { url: '/icon-dark.png', media: '(prefers-color-scheme: dark)' },\n    ],\n    shortcut: ['/shortcut-icon.png'],\n    apple: [\n      { url: '/apple-icon.png' },\n      { url: '/apple-icon-x3.png', sizes: '180x180', type: 'image/png' },\n    ],\n    other: [\n      {\n        rel: 'apple-touch-icon-precomposed',\n        url: '/apple-touch-icon-precomposed.png',\n      },\n    ],\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"shortcut icon\" href=\"/shortcut-icon.png\" />\n<link rel=\"icon\" href=\"/icon.png\" />\n<link rel=\"icon\" href=\"https://example.com/icon.png\" />\n<link rel=\"icon\" href=\"/icon-dark.png\" media=\"(prefers-color-scheme: dark)\" />\n<link rel=\"apple-touch-icon\" href=\"/apple-icon.png\" />\n<link\n  rel=\"apple-touch-icon-precomposed\"\n  href=\"/apple-touch-icon-precomposed.png\"\n/>\n<link\n  rel=\"apple-touch-icon\"\n  href=\"/apple-icon-x3.png\"\n  sizes=\"180x180\"\n  type=\"image/png\"\n/>",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  manifest: 'https://nextjs.org/manifest.json',\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"manifest\" href=\"https://nextjs.org/manifest.json\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  twitter: {\n    card: 'summary_large_image',\n    title: 'Next.js',\n    description: 'The React Framework for the Web',\n    siteId: '1467726470533754880',\n    creator: '@nextjs',\n    creatorId: '1467726470533754880',\n    images: ['https://nextjs.org/og.png'], // Must be an absolute URL\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"twitter:card\" content=\"summary_large_image\" />\n<meta name=\"twitter:site:id\" content=\"1467726470533754880\" />\n<meta name=\"twitter:creator\" content=\"@nextjs\" />\n<meta name=\"twitter:creator:id\" content=\"1467726470533754880\" />\n<meta name=\"twitter:title\" content=\"Next.js\" />\n<meta name=\"twitter:description\" content=\"The React Framework for the Web\" />\n<meta name=\"twitter:image\" content=\"https://nextjs.org/og.png\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  twitter: {\n    card: 'app',\n    title: 'Next.js',\n    description: 'The React Framework for the Web',\n    siteId: '1467726470533754880',\n    creator: '@nextjs',\n    creatorId: '1467726470533754880',\n    images: {\n      url: 'https://nextjs.org/og.png',\n      alt: 'Next.js Logo',\n    },\n    app: {\n      name: 'twitter_app',\n      id: {\n        iphone: 'twitter_app://iphone',\n        ipad: 'twitter_app://ipad',\n        googleplay: 'twitter_app://googleplay',\n      },\n      url: {\n        iphone: 'https://iphone_url',\n        ipad: 'https://ipad_url',\n      },\n    },\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"twitter:site:id\" content=\"1467726470533754880\" />\n<meta name=\"twitter:creator\" content=\"@nextjs\" />\n<meta name=\"twitter:creator:id\" content=\"1467726470533754880\" />\n<meta name=\"twitter:title\" content=\"Next.js\" />\n<meta name=\"twitter:description\" content=\"The React Framework for the Web\" />\n<meta name=\"twitter:card\" content=\"app\" />\n<meta name=\"twitter:image\" content=\"https://nextjs.org/og.png\" />\n<meta name=\"twitter:image:alt\" content=\"Next.js Logo\" />\n<meta name=\"twitter:app:name:iphone\" content=\"twitter_app\" />\n<meta name=\"twitter:app:id:iphone\" content=\"twitter_app://iphone\" />\n<meta name=\"twitter:app:id:ipad\" content=\"twitter_app://ipad\" />\n<meta name=\"twitter:app:id:googleplay\" content=\"twitter_app://googleplay\" />\n<meta name=\"twitter:app:url:iphone\" content=\"https://iphone_url\" />\n<meta name=\"twitter:app:url:ipad\" content=\"https://ipad_url\" />\n<meta name=\"twitter:app:name:ipad\" content=\"twitter_app\" />\n<meta name=\"twitter:app:name:googleplay\" content=\"twitter_app\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  verification: {\n    google: 'google',\n    yandex: 'yandex',\n    yahoo: 'yahoo',\n    other: {\n      me: ['my-email', 'my-link'],\n    },\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"google-site-verification\" content=\"google\" />\n<meta name=\"y_key\" content=\"yahoo\" />\n<meta name=\"yandex-verification\" content=\"yandex\" />\n<meta name=\"me\" content=\"my-email\" />\n<meta name=\"me\" content=\"my-link\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  itunes: {\n    appId: 'myAppStoreID',\n    appArgument: 'myAppArgument',\n  },\n  appleWebApp: {\n    title: 'Apple Web App',\n    statusBarStyle: 'black-translucent',\n    startupImage: [\n      '/assets/startup/apple-touch-startup-image-768x1004.png',\n      {\n        url: '/assets/startup/apple-touch-startup-image-1536x2008.png',\n        media: '(device-width: 768px) and (device-height: 1024px)',\n      },\n    ],\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta\n  name=\"apple-itunes-app\"\n  content=\"app-id=myAppStoreID, app-argument=myAppArgument\"\n/>\n<meta name=\"mobile-web-app-capable\" content=\"yes\" />\n<meta name=\"apple-mobile-web-app-title\" content=\"Apple Web App\" />\n<link\n  href=\"/assets/startup/apple-touch-startup-image-768x1004.png\"\n  rel=\"apple-touch-startup-image\"\n/>\n<link\n  href=\"/assets/startup/apple-touch-startup-image-1536x2008.png\"\n  media=\"(device-width: 768px) and (device-height: 1024px)\"\n  rel=\"apple-touch-startup-image\"\n/>\n<meta\n  name=\"apple-mobile-web-app-status-bar-style\"\n  content=\"black-translucent\"\n/>",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  alternates: {\n    canonical: 'https://nextjs.org',\n    languages: {\n      'en-US': 'https://nextjs.org/en-US',\n      'de-DE': 'https://nextjs.org/de-DE',\n    },\n    media: {\n      'only screen and (max-width: 600px)': 'https://nextjs.org/mobile',\n    },\n    types: {\n      'application/rss+xml': 'https://nextjs.org/rss',\n    },\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"canonical\" href=\"https://nextjs.org\" />\n<link rel=\"alternate\" hreflang=\"en-US\" href=\"https://nextjs.org/en-US\" />\n<link rel=\"alternate\" hreflang=\"de-DE\" href=\"https://nextjs.org/de-DE\" />\n<link\n  rel=\"alternate\"\n  media=\"only screen and (max-width: 600px)\"\n  href=\"https://nextjs.org/mobile\"\n/>\n<link\n  rel=\"alternate\"\n  type=\"application/rss+xml\"\n  href=\"https://nextjs.org/rss\"\n/>",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  appLinks: {\n    ios: {\n      url: 'https://nextjs.org/ios',\n      app_store_id: 'app_store_id',\n    },\n    android: {\n      package: 'com.example.android/package',\n      app_name: 'app_name_android',\n    },\n    web: {\n      url: 'https://nextjs.org/web',\n      should_fallback: true,\n    },\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta property=\"al:ios:url\" content=\"https://nextjs.org/ios\" />\n<meta property=\"al:ios:app_store_id\" content=\"app_store_id\" />\n<meta property=\"al:android:package\" content=\"com.example.android/package\" />\n<meta property=\"al:android:app_name\" content=\"app_name_android\" />\n<meta property=\"al:web:url\" content=\"https://nextjs.org/web\" />\n<meta property=\"al:web:should_fallback\" content=\"true\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  archives: ['https://nextjs.org/13'],\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"archives\" href=\"https://nextjs.org/13\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  assets: ['https://nextjs.org/assets'],\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"assets\" href=\"https://nextjs.org/assets\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  bookmarks: ['https://nextjs.org/13'],\n}",
      "language": "javascript"
    },
    {
      "code": "<link rel=\"bookmarks\" href=\"https://nextjs.org/13\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  category: 'technology',\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"category\" content=\"technology\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  facebook: {\n    appId: '12345678',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta property=\"fb:app_id\" content=\"12345678\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  facebook: {\n    admins: '12345678',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta property=\"fb:admins\" content=\"12345678\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  facebook: {\n    admins: ['12345678', '87654321'],\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta property=\"fb:admins\" content=\"12345678\" />\n<meta property=\"fb:admins\" content=\"87654321\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  pinterest: {\n    richPin: true,\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"pinterest-rich-pin\" content=\"true\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  other: {\n    custom: 'meta',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"custom\" content=\"meta\" />",
      "language": "unknown"
    },
    {
      "code": "export const metadata = {\n  other: {\n    custom: ['meta1', 'meta2'],\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "<meta name=\"custom\" content=\"meta1\" /> <meta name=\"custom\" content=\"meta2\" />",
      "language": "unknown"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: 'Next.js',\n}",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport function generateMetadata(): Metadata {\n  return {\n    title: 'Next.js',\n  }\n}",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \nexport async function generateMetadata(): Promise<Metadata> {\n  return {\n    title: 'Next.js',\n  }\n}",
      "language": "python"
    },
    {
      "code": "import type { Metadata } from 'next'\n \ntype Props = {\n  params: Promise<{ id: string }>\n  searchParams: Promise<{ [key: string]: string | string[] | undefined }>\n}\n \nexport function generateMetadata({ params, searchParams }: Props): Metadata {\n  return {\n    title: 'Next.js',\n  }\n}\n \nexport default function Page({ params, searchParams }: Props) {}",
      "language": "python"
    },
    {
      "code": "import type { Metadata, ResolvingMetadata } from 'next'\n \nexport async function generateMetadata(\n  { params, searchParams }: Props,\n  parent: ResolvingMetadata\n): Promise<Metadata> {\n  return {\n    title: 'Next.js',\n  }\n}",
      "language": "python"
    },
    {
      "code": "/** @type {import(\"next\").Metadata} */\nexport const metadata = {\n  title: 'Next.js',\n}",
      "language": "javascript"
    },
    {
      "code": "'use client'\n \nimport ReactDOM from 'react-dom'\n \nexport function PreloadResources() {\n  ReactDOM.preload('...', { as: '...' })\n  ReactDOM.preconnect('...', { crossOrigin: '...' })\n  ReactDOM.prefetchDNS('...')\n \n  return '...'\n}",
      "language": "python"
    },
    {
      "code": "ReactDOM.preload(href: string, options: { as: string })",
      "language": "unknown"
    },
    {
      "code": "<link rel=\"preload\" href=\"...\" as=\"...\" />",
      "language": "unknown"
    },
    {
      "code": "ReactDOM.preconnect(href: string, options?: { crossOrigin?: string })",
      "language": "unknown"
    },
    {
      "code": "<link rel=\"preconnect\" href=\"...\" crossorigin />",
      "language": "unknown"
    },
    {
      "code": "ReactDOM.prefetchDNS(href: string)",
      "language": "unknown"
    },
    {
      "code": "<link rel=\"dns-prefetch\" href=\"...\" />",
      "language": "unknown"
    },
    {
      "code": "<meta charset=\"utf-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />",
      "language": "unknown"
    },
    {
      "code": "import type { NextConfig } from 'next'\n \nconst config: NextConfig = {\n  htmlLimitedBots: /.*/,\n}\n \nexport default config",
      "language": "python"
    },
    {
      "code": "export const metadata = {\n  title: 'Acme',\n  openGraph: {\n    title: 'Acme',\n    description: 'Acme is a...',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "export const metadata = {\n  title: 'Blog',\n  openGraph: {\n    title: 'Blog',\n  },\n}\n \n// Output:\n// <title>Blog</title>\n// <meta property=\"og:title\" content=\"Blog\" />",
      "language": "javascript"
    },
    {
      "code": "export const openGraphImage = { images: ['http://...'] }",
      "language": "javascript"
    },
    {
      "code": "import { openGraphImage } from './shared-metadata'\n \nexport const metadata = {\n  openGraph: {\n    ...openGraphImage,\n    title: 'Home',\n  },\n}",
      "language": "python"
    },
    {
      "code": "import { openGraphImage } from '../shared-metadata'\n \nexport const metadata = {\n  openGraph: {\n    ...openGraphImage,\n    title: 'About',\n  },\n}",
      "language": "python"
    },
    {
      "code": "export const metadata = {\n  title: 'Acme',\n  openGraph: {\n    title: 'Acme',\n    description: 'Acme is a...',\n  },\n}",
      "language": "javascript"
    },
    {
      "code": "export const metadata = {\n  title: 'About',\n}\n \n// Output:\n// <title>About</title>\n// <meta property=\"og:title\" content=\"Acme\" />\n// <meta property=\"og:description\" content=\"Acme is a...\" />",
      "language": "javascript"
    }
  ],
  "patterns": [
    {
      "description": "API ReferenceFunctionsgenerateMetadataCopy pagegenerateMetadataYou can use the metadata object or the generateMetadata function to define metadata. The metadata object To define static metadata, export a Metadata object from a layout.js or page.js file. layout.tsx | page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: '...', description: '...', } export default function Page() {} See the Metadata Fields for a complete list of supported options. generateMetadata function Dynamic metadata depends on dynamic information, such as the current route parameters, external data, or metadata in parent segments, can be set by exporting a generateMetadata function that returns a Metadata object. Resolving generateMetadata is part of rendering the page. If the page can be pre-rendered and generateMetadata doesn't introduce dynamic behavior, the resulting metadata is included in the page’s initial HTML. Otherwise the metadata resolved from generateMetadata can be streamed after sending the initial UI. app/products/[id]/page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata, ResolvingMetadata } from 'next' type Props = { params: Promise<{ id: string }> searchParams: Promise<{ [key: string]: string | string[] | undefined }> } export async function generateMetadata( { params, searchParams }: Props, parent: ResolvingMetadata ): Promise<Metadata> { // read route params const { id } = await params // fetch data const product = await fetch(`https://.../${id}`).then((res) => res.json()) // optionally access and extend (rather than replace) parent metadata const previousImages = (await parent).openGraph?.images || [] return { title: product.title, openGraph: { images: ['/some-specific-page-image.jpg', ...previousImages], }, } } export default function Page({ params, searchParams }: Props) {} For type completion of params and searchParams, you can type the first argument with PageProps<'/route'> or LayoutProps<'/route'> for pages and layouts respectively. Good to know: Metadata can be added to layout.js and page.js files. Next.js will automatically resolve the metadata, and create the relevant <head> tags for the page. The metadata object and generateMetadata function exports are only supported in Server Components. You cannot export both the metadata object and generateMetadata function from the same route segment. fetch requests inside generateMetadata are automatically memoized for the same data across generateMetadata, generateStaticParams, Layouts, Pages, and Server Components. React cache can be used if fetch is unavailable. File-based metadata has the higher priority and will override the metadata object and generateMetadata function. Reference Parameters generateMetadata function accepts the following parameters: props - An object containing the parameters of the current route: params - An object containing the dynamic route parameters object from the root segment down to the segment generateMetadata is called from. Examples: RouteURLparamsapp/shop/[slug]/page.js/shop/1{ slug: '1' }app/shop/[tag]/[item]/page.js/shop/1/2{ tag: '1', item: '2' }app/shop/[...slug]/page.js/shop/1/2{ slug: ['1', '2'] } searchParams - An object containing the current URL's search params. Examples: URLsearchParams/shop?a=1{ a: '1' }/shop?a=1&b=2{ a: '1', b: '2' }/shop?a=1&a=2{ a: ['1', '2'] } parent - A promise of the resolved metadata from parent route segments. Returns generateMetadata should return a Metadata object containing one or more metadata fields. Good to know: If metadata doesn't depend on runtime information, it should be defined using the static metadata object rather than generateMetadata. fetch requests are automatically memoized for the same data across generateMetadata, generateStaticParams, Layouts, Pages, and Server Components. React cache can be used if fetch is unavailable. searchParams are only available in page.js segments. The redirect() and notFound() Next.js methods can also be used inside generateMetadata. Metadata Fields The following fields are supported: title The title attribute is used to set the title of the document. It can be defined as a simple string or an optional template object. String layout.js | page.jsexport const metadata = { title: 'Next.js', } <head> output<title>Next.js</title> default title.default can be used to provide a fallback title to child route segments that don't define a title. app/layout.tsximport type { Metadata } from 'next' export const metadata: Metadata = { title: { default: 'Acme', }, } app/about/page.tsximport type { Metadata } from 'next' export const metadata: Metadata = {} // Output: <title>Acme</title> template title.template can be used to add a prefix or a suffix to titles defined in child route segments. app/layout.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: { template: '%s | Acme', default: 'Acme', // a default is required when creating a template }, } app/about/page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: 'About', } // Output: <title>About | Acme</title> Good to know: title.template applies to child route segments and not the segment it's defined in. This means: title.default is required when you add a title.template. title.template defined in layout.js will not apply to a title defined in a page.js of the same route segment. title.template defined in page.js has no effect because a page is always the terminating segment (it doesn't have any children route segments). title.template has no effect if a route has not defined a title or title.default. absolute title.absolute can be used to provide a title that ignores title.template set in parent segments. app/layout.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: { template: '%s | Acme', }, } app/about/page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: { absolute: 'About', }, } // Output: <title>About</title> Good to know: layout.js title (string) and title.default define the default title for child segments (that do not define their own title). It will augment title.template from the closest parent segment if it exists. title.absolute defines the default title for child segments. It ignores title.template from parent segments. title.template defines a new title template for child segments. page.js If a page does not define its own title the closest parents resolved title will be used. title (string) defines the routes title. It will augment title.template from the closest parent segment if it exists. title.absolute defines the route title. It ignores title.template from parent segments. title.template has no effect in page.js because a page is always the terminating segment of a route. description layout.js | page.jsexport const metadata = { description: 'The React Framework for the Web', } <head> output<meta name=\"description\" content=\"The React Framework for the Web\" /> Other fields layout.js | page.jsexport const metadata = { generator: 'Next.js', applicationName: 'Next.js', referrer: 'origin-when-cross-origin', keywords: ['Next.js', 'React', 'JavaScript'], authors: [{ name: 'Seb' }, { name: 'Josh', url: 'https://nextjs.org' }], creator: 'Jiachi Liu', publisher: 'Sebastian Markbåge', formatDetection: { email: false, address: false, telephone: false, }, } <head> output<meta name=\"application-name\" content=\"Next.js\" /> <meta name=\"author\" content=\"Seb\" /> <link rel=\"author\" href=\"https://nextjs.org\" /> <meta name=\"author\" content=\"Josh\" /> <meta name=\"generator\" content=\"Next.js\" /> <meta name=\"keywords\" content=\"Next.js,React,JavaScript\" /> <meta name=\"referrer\" content=\"origin-when-cross-origin\" /> <meta name=\"color-scheme\" content=\"dark\" /> <meta name=\"creator\" content=\"Jiachi Liu\" /> <meta name=\"publisher\" content=\"Sebastian Markbåge\" /> <meta name=\"format-detection\" content=\"telephone=no, address=no, email=no\" /> metadataBase metadataBase is a convenience option to set a base URL prefix for metadata fields that require a fully qualified URL. metadataBase allows URL-based metadata fields defined in the current route segment and below to use a relative path instead of an otherwise required absolute URL. The field's relative path will be composed with metadataBase to form a fully qualified URL. layout.js | page.jsexport const metadata = { metadataBase: new URL('https://acme.com'), alternates: { canonical: '/', languages: { 'en-US': '/en-US', 'de-DE': '/de-DE', }, }, openGraph: { images: '/og-image.png', }, } <head> output<link rel=\"canonical\" href=\"https://acme.com\" /> <link rel=\"alternate\" hreflang=\"en-US\" href=\"https://acme.com/en-US\" /> <link rel=\"alternate\" hreflang=\"de-DE\" href=\"https://acme.com/de-DE\" /> <meta property=\"og:image\" content=\"https://acme.com/og-image.png\" /> Good to know: metadataBase is typically set in root app/layout.js to apply to URL-based metadata fields across all routes. All URL-based metadata fields that require absolute URLs can be configured with a metadataBase option. metadataBase can contain a subdomain e.g. https://app.acme.com or base path e.g. https://acme.com/start/from/here If a metadata field provides an absolute URL, metadataBase will be ignored. Using a relative path in a URL-based metadata field without configuring a metadataBase will cause a build error. Next.js will normalize duplicate slashes between metadataBase (e.g. https://acme.com/) and a relative field (e.g. /path) to a single slash (e.g. https://acme.com/path) URL Composition URL composition favors developer intent over default directory traversal semantics. Trailing slashes between metadataBase and metadata fields are normalized. An \"absolute\" path in a metadata field (that typically would replace the whole URL path) is treated as a \"relative\" path (starting from the end of metadataBase). For example, given the following metadataBase: app/layout.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { metadataBase: new URL('https://acme.com'), } Any metadata fields that inherit the above metadataBase and set their own value will be resolved as follows: metadata fieldResolved URL/https://acme.com./https://acme.compaymentshttps://acme.com/payments/paymentshttps://acme.com/payments./paymentshttps://acme.com/payments../paymentshttps://acme.com/paymentshttps://beta.acme.com/paymentshttps://beta.acme.com/payments openGraph layout.js | page.jsexport const metadata = { openGraph: { title: 'Next.js', description: 'The React Framework for the Web', url: 'https://nextjs.org', siteName: 'Next.js', images: [ { url: 'https://nextjs.org/og.png', // Must be an absolute URL width: 800, height: 600, }, { url: 'https://nextjs.org/og-alt.png', // Must be an absolute URL width: 1800, height: 1600, alt: 'My custom alt', }, ], videos: [ { url: 'https://nextjs.org/video.mp4', // Must be an absolute URL width: 800, height: 600, }, ], audio: [ { url: 'https://nextjs.org/audio.mp3', // Must be an absolute URL }, ], locale: 'en_US', type: 'website', }, } <head> output<meta property=\"og:title\" content=\"Next.js\" /> <meta property=\"og:description\" content=\"The React Framework for the Web\" /> <meta property=\"og:url\" content=\"https://nextjs.org/\" /> <meta property=\"og:site_name\" content=\"Next.js\" /> <meta property=\"og:locale\" content=\"en_US\" /> <meta property=\"og:image\" content=\"https://nextjs.org/og.png\" /> <meta property=\"og:image:width\" content=\"800\" /> <meta property=\"og:image:height\" content=\"600\" /> <meta property=\"og:image\" content=\"https://nextjs.org/og-alt.png\" /> <meta property=\"og:image:width\" content=\"1800\" /> <meta property=\"og:image:height\" content=\"1600\" /> <meta property=\"og:image:alt\" content=\"My custom alt\" /> <meta property=\"og:video\" content=\"https://nextjs.org/video.mp4\" /> <meta property=\"og:video:width\" content=\"800\" /> <meta property=\"og:video:height\" content=\"600\" /> <meta property=\"og:audio\" content=\"https://nextjs.org/audio.mp3\" /> <meta property=\"og:type\" content=\"website\" /> layout.js | page.jsexport const metadata = { openGraph: { title: 'Next.js', description: 'The React Framework for the Web', type: 'article', publishedTime: '2023-01-01T00:00:00.000Z', authors: ['Seb', 'Josh'], }, } <head> output<meta property=\"og:title\" content=\"Next.js\" /> <meta property=\"og:description\" content=\"The React Framework for the Web\" /> <meta property=\"og:type\" content=\"article\" /> <meta property=\"article:published_time\" content=\"2023-01-01T00:00:00.000Z\" /> <meta property=\"article:author\" content=\"Seb\" /> <meta property=\"article:author\" content=\"Josh\" /> Good to know: It may be more convenient to use the file-based Metadata API for Open Graph images. Rather than having to sync the config export with actual files, the file-based API will automatically generate the correct metadata for you. robots layout.tsx | page.tsximport type { Metadata } from 'next' export const metadata: Metadata = { robots: { index: true, follow: true, nocache: false, googleBot: { index: true, follow: true, noimageindex: false, 'max-video-preview': -1, 'max-image-preview': 'large', 'max-snippet': -1, }, }, } <head> output<meta name=\"robots\" content=\"index, follow\" /> <meta name=\"googlebot\" content=\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\" /> icons Good to know: We recommend using the file-based Metadata API for icons where possible. Rather than having to sync the config export with actual files, the file-based API will automatically generate the correct metadata for you. layout.js | page.jsexport const metadata = { icons: { icon: '/icon.png', shortcut: '/shortcut-icon.png', apple: '/apple-icon.png', other: { rel: 'apple-touch-icon-precomposed', url: '/apple-touch-icon-precomposed.png', }, }, } <head> output<link rel=\"shortcut icon\" href=\"/shortcut-icon.png\" /> <link rel=\"icon\" href=\"/icon.png\" /> <link rel=\"apple-touch-icon\" href=\"/apple-icon.png\" /> <link rel=\"apple-touch-icon-precomposed\" href=\"/apple-touch-icon-precomposed.png\" /> layout.js | page.jsexport const metadata = { icons: { icon: [ { url: '/icon.png' }, new URL('/icon.png', 'https://example.com'), { url: '/icon-dark.png', media: '(prefers-color-scheme: dark)' }, ], shortcut: ['/shortcut-icon.png'], apple: [ { url: '/apple-icon.png' }, { url: '/apple-icon-x3.png', sizes: '180x180', type: 'image/png' }, ], other: [ { rel: 'apple-touch-icon-precomposed', url: '/apple-touch-icon-precomposed.png', }, ], }, } <head> output<link rel=\"shortcut icon\" href=\"/shortcut-icon.png\" /> <link rel=\"icon\" href=\"/icon.png\" /> <link rel=\"icon\" href=\"https://example.com/icon.png\" /> <link rel=\"icon\" href=\"/icon-dark.png\" media=\"(prefers-color-scheme: dark)\" /> <link rel=\"apple-touch-icon\" href=\"/apple-icon.png\" /> <link rel=\"apple-touch-icon-precomposed\" href=\"/apple-touch-icon-precomposed.png\" /> <link rel=\"apple-touch-icon\" href=\"/apple-icon-x3.png\" sizes=\"180x180\" type=\"image/png\" /> Good to know: The msapplication-* meta tags are no longer supported in Chromium builds of Microsoft Edge, and thus no longer needed. themeColor Deprecated: The themeColor option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead. colorScheme Deprecated: The colorScheme option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead. manifest A web application manifest, as defined in the Web Application Manifest specification. layout.js | page.jsexport const metadata = { manifest: 'https://nextjs.org/manifest.json', } <head> output<link rel=\"manifest\" href=\"https://nextjs.org/manifest.json\" /> twitter The Twitter specification is (surprisingly) used for more than just X (formerly known as Twitter). Learn more about the Twitter Card markup reference. layout.js | page.jsexport const metadata = { twitter: { card: 'summary_large_image', title: 'Next.js', description: 'The React Framework for the Web', siteId: '1467726470533754880', creator: '@nextjs', creatorId: '1467726470533754880', images: ['https://nextjs.org/og.png'], // Must be an absolute URL }, } <head> output<meta name=\"twitter:card\" content=\"summary_large_image\" /> <meta name=\"twitter:site:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:creator\" content=\"@nextjs\" /> <meta name=\"twitter:creator:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:title\" content=\"Next.js\" /> <meta name=\"twitter:description\" content=\"The React Framework for the Web\" /> <meta name=\"twitter:image\" content=\"https://nextjs.org/og.png\" /> layout.js | page.jsexport const metadata = { twitter: { card: 'app', title: 'Next.js', description: 'The React Framework for the Web', siteId: '1467726470533754880', creator: '@nextjs', creatorId: '1467726470533754880', images: { url: 'https://nextjs.org/og.png', alt: 'Next.js Logo', }, app: { name: 'twitter_app', id: { iphone: 'twitter_app://iphone', ipad: 'twitter_app://ipad', googleplay: 'twitter_app://googleplay', }, url: { iphone: 'https://iphone_url', ipad: 'https://ipad_url', }, }, }, } <head> output<meta name=\"twitter:site:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:creator\" content=\"@nextjs\" /> <meta name=\"twitter:creator:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:title\" content=\"Next.js\" /> <meta name=\"twitter:description\" content=\"The React Framework for the Web\" /> <meta name=\"twitter:card\" content=\"app\" /> <meta name=\"twitter:image\" content=\"https://nextjs.org/og.png\" /> <meta name=\"twitter:image:alt\" content=\"Next.js Logo\" /> <meta name=\"twitter:app:name:iphone\" content=\"twitter_app\" /> <meta name=\"twitter:app:id:iphone\" content=\"twitter_app://iphone\" /> <meta name=\"twitter:app:id:ipad\" content=\"twitter_app://ipad\" /> <meta name=\"twitter:app:id:googleplay\" content=\"twitter_app://googleplay\" /> <meta name=\"twitter:app:url:iphone\" content=\"https://iphone_url\" /> <meta name=\"twitter:app:url:ipad\" content=\"https://ipad_url\" /> <meta name=\"twitter:app:name:ipad\" content=\"twitter_app\" /> <meta name=\"twitter:app:name:googleplay\" content=\"twitter_app\" /> viewport Deprecated: The viewport option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead. verification layout.js | page.jsexport const metadata = { verification: { google: 'google', yandex: 'yandex', yahoo: 'yahoo', other: { me: ['my-email', 'my-link'], }, }, } <head> output<meta name=\"google-site-verification\" content=\"google\" /> <meta name=\"y_key\" content=\"yahoo\" /> <meta name=\"yandex-verification\" content=\"yandex\" /> <meta name=\"me\" content=\"my-email\" /> <meta name=\"me\" content=\"my-link\" /> appleWebApp layout.js | page.jsexport const metadata = { itunes: { appId: 'myAppStoreID', appArgument: 'myAppArgument', }, appleWebApp: { title: 'Apple Web App', statusBarStyle: 'black-translucent', startupImage: [ '/assets/startup/apple-touch-startup-image-768x1004.png', { url: '/assets/startup/apple-touch-startup-image-1536x2008.png', media: '(device-width: 768px) and (device-height: 1024px)', }, ], }, } <head> output<meta name=\"apple-itunes-app\" content=\"app-id=myAppStoreID, app-argument=myAppArgument\" /> <meta name=\"mobile-web-app-capable\" content=\"yes\" /> <meta name=\"apple-mobile-web-app-title\" content=\"Apple Web App\" /> <link href=\"/assets/startup/apple-touch-startup-image-768x1004.png\" rel=\"apple-touch-startup-image\" /> <link href=\"/assets/startup/apple-touch-startup-image-1536x2008.png\" media=\"(device-width: 768px) and (device-height: 1024px)\" rel=\"apple-touch-startup-image\" /> <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /> alternates layout.js | page.jsexport const metadata = { alternates: { canonical: 'https://nextjs.org', languages: { 'en-US': 'https://nextjs.org/en-US', 'de-DE': 'https://nextjs.org/de-DE', }, media: { 'only screen and (max-width: 600px)': 'https://nextjs.org/mobile', }, types: { 'application/rss+xml': 'https://nextjs.org/rss', }, }, } <head> output<link rel=\"canonical\" href=\"https://nextjs.org\" /> <link rel=\"alternate\" hreflang=\"en-US\" href=\"https://nextjs.org/en-US\" /> <link rel=\"alternate\" hreflang=\"de-DE\" href=\"https://nextjs.org/de-DE\" /> <link rel=\"alternate\" media=\"only screen and (max-width: 600px)\" href=\"https://nextjs.org/mobile\" /> <link rel=\"alternate\" type=\"application/rss+xml\" href=\"https://nextjs.org/rss\" /> appLinks layout.js | page.jsexport const metadata = { appLinks: { ios: { url: 'https://nextjs.org/ios', app_store_id: 'app_store_id', }, android: { package: 'com.example.android/package', app_name: 'app_name_android', }, web: { url: 'https://nextjs.org/web', should_fallback: true, }, }, } <head> output<meta property=\"al:ios:url\" content=\"https://nextjs.org/ios\" /> <meta property=\"al:ios:app_store_id\" content=\"app_store_id\" /> <meta property=\"al:android:package\" content=\"com.example.android/package\" /> <meta property=\"al:android:app_name\" content=\"app_name_android\" /> <meta property=\"al:web:url\" content=\"https://nextjs.org/web\" /> <meta property=\"al:web:should_fallback\" content=\"true\" /> archives Describes a collection of records, documents, or other materials of historical interest (source). layout.js | page.jsexport const metadata = { archives: ['https://nextjs.org/13'], } <head> output<link rel=\"archives\" href=\"https://nextjs.org/13\" /> assets layout.js | page.jsexport const metadata = { assets: ['https://nextjs.org/assets'], } <head> output<link rel=\"assets\" href=\"https://nextjs.org/assets\" /> bookmarks layout.js | page.jsexport const metadata = { bookmarks: ['https://nextjs.org/13'], } <head> output<link rel=\"bookmarks\" href=\"https://nextjs.org/13\" /> category layout.js | page.jsexport const metadata = { category: 'technology', } <head> output<meta name=\"category\" content=\"technology\" /> facebook You can connect a Facebook app or Facebook account to your webpage for certain Facebook Social Plugins Facebook Documentation Good to know: You can specify either appId or admins, but not both. layout.js | page.jsexport const metadata = { facebook: { appId: '12345678', }, } <head> output<meta property=\"fb:app_id\" content=\"12345678\" /> layout.js | page.jsexport const metadata = { facebook: { admins: '12345678', }, } <head> output<meta property=\"fb:admins\" content=\"12345678\" /> If you want to generate multiple fb:admins meta tags you can use array value. layout.js | page.jsexport const metadata = { facebook: { admins: ['12345678', '87654321'], }, } <head> output<meta property=\"fb:admins\" content=\"12345678\" /> <meta property=\"fb:admins\" content=\"87654321\" /> pinterest You can enable or disable Pinterest Rich Pins on your webpage. layout.js | page.jsexport const metadata = { pinterest: { richPin: true, }, } <head> output<meta name=\"pinterest-rich-pin\" content=\"true\" /> other All metadata options should be covered using the built-in support. However, there may be custom metadata tags specific to your site, or brand new metadata tags just released. You can use the other option to render any custom metadata tag. layout.js | page.jsexport const metadata = { other: { custom: 'meta', }, } <head> output<meta name=\"custom\" content=\"meta\" /> If you want to generate multiple same key meta tags you can use array value. layout.js | page.jsexport const metadata = { other: { custom: ['meta1', 'meta2'], }, } <head> output<meta name=\"custom\" content=\"meta1\" /> <meta name=\"custom\" content=\"meta2\" /> Types You can add type safety to your metadata by using the Metadata type. If you are using the built-in TypeScript plugin in your IDE, you do not need to manually add the type, but you can still explicitly add it if you want. metadata object layout.tsx | page.tsximport type { Metadata } from 'next' export const metadata: Metadata = { title: 'Next.js', } generateMetadata function Regular function layout.tsx | page.tsximport type { Metadata } from 'next' export function generateMetadata(): Metadata { return { title: 'Next.js', } } Async function layout.tsx | page.tsximport type { Metadata } from 'next' export async function generateMetadata(): Promise<Metadata> { return { title: 'Next.js', } } With segment props layout.tsx | page.tsximport type { Metadata } from 'next' type Props = { params: Promise<{ id: string }> searchParams: Promise<{ [key: string]: string | string[] | undefined }> } export function generateMetadata({ params, searchParams }: Props): Metadata { return { title: 'Next.js', } } export default function Page({ params, searchParams }: Props) {} With parent metadata layout.tsx | page.tsximport type { Metadata, ResolvingMetadata } from 'next' export async function generateMetadata( { params, searchParams }: Props, parent: ResolvingMetadata ): Promise<Metadata> { return { title: 'Next.js', } } JavaScript Projects For JavaScript projects, you can use JSDoc to add type safety. layout.js | page.js/** @type {import(\"next\").Metadata} */ export const metadata = { title: 'Next.js', } Unsupported Metadata The following metadata types do not currently have built-in support. However, they can still be rendered in the layout or page itself. MetadataRecommendation<meta http-equiv=\"...\">Use appropriate HTTP Headers via redirect(), Proxy, Security Headers<base>Render the tag in the layout or page itself.<noscript>Render the tag in the layout or page itself.<style>Learn more about styling in Next.js.<script>Learn more about using scripts.<link rel=\"stylesheet\" />import stylesheets directly in the layout or page itself.<link rel=\"preload />Use ReactDOM preload method<link rel=\"preconnect\" />Use ReactDOM preconnect method<link rel=\"dns-prefetch\" />Use ReactDOM prefetchDNS method Resource hints The <link> element has a number of rel keywords that can be used to hint to the browser that an external resource is likely to be needed. The browser uses this information to apply preloading optimizations depending on the keyword. While the Metadata API doesn't directly support these hints, you can use new ReactDOM methods to safely insert them into the <head> of the document. app/preload-resources.tsxTypeScriptJavaScriptTypeScript'use client' import ReactDOM from 'react-dom' export function PreloadResources() { ReactDOM.preload('...', { as: '...' }) ReactDOM.preconnect('...', { crossOrigin: '...' }) ReactDOM.prefetchDNS('...') return '...' } <link rel=\"preload\"> Start loading a resource early in the page rendering (browser) lifecycle. MDN Docs. ReactDOM.preload(href: string, options: { as: string }) <head> output<link rel=\"preload\" href=\"...\" as=\"...\" /> <link rel=\"preconnect\"> Preemptively initiate a connection to an origin. MDN Docs. ReactDOM.preconnect(href: string, options?: { crossOrigin?: string }) <head> output<link rel=\"preconnect\" href=\"...\" crossorigin /> <link rel=\"dns-prefetch\"> Attempt to resolve a domain name before resources get requested. MDN Docs. ReactDOM.prefetchDNS(href: string) <head> output<link rel=\"dns-prefetch\" href=\"...\" /> Good to know: These methods are currently only supported in Client Components, which are still Server Side Rendered on initial page load. Next.js in-built features such as next/font, next/image and next/script automatically handle relevant resource hints. Behavior Default Fields There are two default meta tags that are always added even if a route doesn't define metadata: The meta charset tag sets the character encoding for the website. The meta viewport tag sets the viewport width and scale for the website to adjust for different devices. <meta charset=\"utf-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /> Good to know: You can overwrite the default viewport meta tag. Streaming metadata Streaming metadata allows Next.js to render and send the initial UI to the browser, without waiting for generateMetadata to complete. When generateMetadata resolves, the resulting metadata tags are appended to the <body> tag. We have verified that metadata is interpreted correctly by bots that execute JavaScript and inspect the full DOM (e.g. Googlebot). For HTML-limited bots that can’t execute JavaScript (e.g. facebookexternalhit), metadata continues to block page rendering. The resulting metadata will be available in the <head> tag. Next.js automatically detects HTML-limited bots by looking at the User Agent header. You can use the htmlLimitedBots option in your Next.js config file to override the default User Agent list. To fully disable streaming metadata: next.config.tsTypeScriptJavaScriptTypeScriptimport type { NextConfig } from 'next' const config: NextConfig = { htmlLimitedBots: /.*/, } export default config Streaming metadata improves perceived performance by reducing TTFB and can help lowering LCP time. Overriding htmlLimitedBots could lead to longer response times. Streaming metadata is an advanced feature, and the default should be sufficient for most cases. Ordering Metadata is evaluated in order, starting from the root segment down to the segment closest to the final page.js segment. For example: app/layout.tsx (Root Layout) app/blog/layout.tsx (Nested Blog Layout) app/blog/[slug]/page.tsx (Blog Page) Merging Following the evaluation order, Metadata objects exported from multiple segments in the same route are shallowly merged together to form the final metadata output of a route. Duplicate keys are replaced based on their ordering. This means metadata with nested fields such as openGraph and robots that are defined in an earlier segment are overwritten by the last segment to define them. Overwriting fields app/layout.jsexport const metadata = { title: 'Acme', openGraph: { title: 'Acme', description: 'Acme is a...', }, } app/blog/page.jsexport const metadata = { title: 'Blog', openGraph: { title: 'Blog', }, } // Output: // <title>Blog</title> // <meta property=\"og:title\" content=\"Blog\" /> In the example above: title from app/layout.js is replaced by title in app/blog/page.js. All openGraph fields from app/layout.js are replaced in app/blog/page.js because app/blog/page.js sets openGraph metadata. Note the absence of openGraph.description. If you'd like to share some nested fields between segments while overwriting others, you can pull them out into a separate variable: app/shared-metadata.jsexport const openGraphImage = { images: ['http://...'] } app/page.jsimport { openGraphImage } from './shared-metadata' export const metadata = { openGraph: { ...openGraphImage, title: 'Home', }, } app/about/page.jsimport { openGraphImage } from '../shared-metadata' export const metadata = { openGraph: { ...openGraphImage, title: 'About', }, } In the example above, the OG image is shared between app/layout.js and app/about/page.js while the titles are different. Inheriting fields app/layout.jsexport const metadata = { title: 'Acme', openGraph: { title: 'Acme', description: 'Acme is a...', }, } app/about/page.jsexport const metadata = { title: 'About', } // Output: // <title>About</title> // <meta property=\"og:title\" content=\"Acme\" /> // <meta property=\"og:description\" content=\"Acme is a...\" /> Notes title from app/layout.js is replaced by title in app/about/page.js. All openGraph fields from app/layout.js are inherited in app/about/page.js because app/about/page.js doesn't set openGraph metadata. Version History VersionChangesv15.2.0Introduced streaming support to generateMetadata.v13.2.0viewport, themeColor, and colorScheme deprecated in favor of the viewport configuration.v13.2.0metadata and generateMetadata introduced.Next StepsView all the Metadata API options.Metadata FilesAPI documentation for the metadata file conventions.generateViewportAPI Reference for the generateViewport function.",
      "code": "metadata"
    },
    {
      "description": "generateMetadataYou can use the metadata object or the generateMetadata function to define metadata. The metadata object To define static metadata, export a Metadata object from a layout.js or page.js file. layout.tsx | page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: '...', description: '...', } export default function Page() {} See the Metadata Fields for a complete list of supported options. generateMetadata function Dynamic metadata depends on dynamic information, such as the current route parameters, external data, or metadata in parent segments, can be set by exporting a generateMetadata function that returns a Metadata object. Resolving generateMetadata is part of rendering the page. If the page can be pre-rendered and generateMetadata doesn't introduce dynamic behavior, the resulting metadata is included in the page’s initial HTML. Otherwise the metadata resolved from generateMetadata can be streamed after sending the initial UI. app/products/[id]/page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata, ResolvingMetadata } from 'next' type Props = { params: Promise<{ id: string }> searchParams: Promise<{ [key: string]: string | string[] | undefined }> } export async function generateMetadata( { params, searchParams }: Props, parent: ResolvingMetadata ): Promise<Metadata> { // read route params const { id } = await params // fetch data const product = await fetch(`https://.../${id}`).then((res) => res.json()) // optionally access and extend (rather than replace) parent metadata const previousImages = (await parent).openGraph?.images || [] return { title: product.title, openGraph: { images: ['/some-specific-page-image.jpg', ...previousImages], }, } } export default function Page({ params, searchParams }: Props) {} For type completion of params and searchParams, you can type the first argument with PageProps<'/route'> or LayoutProps<'/route'> for pages and layouts respectively. Good to know: Metadata can be added to layout.js and page.js files. Next.js will automatically resolve the metadata, and create the relevant <head> tags for the page. The metadata object and generateMetadata function exports are only supported in Server Components. You cannot export both the metadata object and generateMetadata function from the same route segment. fetch requests inside generateMetadata are automatically memoized for the same data across generateMetadata, generateStaticParams, Layouts, Pages, and Server Components. React cache can be used if fetch is unavailable. File-based metadata has the higher priority and will override the metadata object and generateMetadata function. Reference Parameters generateMetadata function accepts the following parameters: props - An object containing the parameters of the current route: params - An object containing the dynamic route parameters object from the root segment down to the segment generateMetadata is called from. Examples: RouteURLparamsapp/shop/[slug]/page.js/shop/1{ slug: '1' }app/shop/[tag]/[item]/page.js/shop/1/2{ tag: '1', item: '2' }app/shop/[...slug]/page.js/shop/1/2{ slug: ['1', '2'] } searchParams - An object containing the current URL's search params. Examples: URLsearchParams/shop?a=1{ a: '1' }/shop?a=1&b=2{ a: '1', b: '2' }/shop?a=1&a=2{ a: ['1', '2'] } parent - A promise of the resolved metadata from parent route segments. Returns generateMetadata should return a Metadata object containing one or more metadata fields. Good to know: If metadata doesn't depend on runtime information, it should be defined using the static metadata object rather than generateMetadata. fetch requests are automatically memoized for the same data across generateMetadata, generateStaticParams, Layouts, Pages, and Server Components. React cache can be used if fetch is unavailable. searchParams are only available in page.js segments. The redirect() and notFound() Next.js methods can also be used inside generateMetadata. Metadata Fields The following fields are supported: title The title attribute is used to set the title of the document. It can be defined as a simple string or an optional template object. String layout.js | page.jsexport const metadata = { title: 'Next.js', } <head> output<title>Next.js</title> default title.default can be used to provide a fallback title to child route segments that don't define a title. app/layout.tsximport type { Metadata } from 'next' export const metadata: Metadata = { title: { default: 'Acme', }, } app/about/page.tsximport type { Metadata } from 'next' export const metadata: Metadata = {} // Output: <title>Acme</title> template title.template can be used to add a prefix or a suffix to titles defined in child route segments. app/layout.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: { template: '%s | Acme', default: 'Acme', // a default is required when creating a template }, } app/about/page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: 'About', } // Output: <title>About | Acme</title> Good to know: title.template applies to child route segments and not the segment it's defined in. This means: title.default is required when you add a title.template. title.template defined in layout.js will not apply to a title defined in a page.js of the same route segment. title.template defined in page.js has no effect because a page is always the terminating segment (it doesn't have any children route segments). title.template has no effect if a route has not defined a title or title.default. absolute title.absolute can be used to provide a title that ignores title.template set in parent segments. app/layout.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: { template: '%s | Acme', }, } app/about/page.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { title: { absolute: 'About', }, } // Output: <title>About</title> Good to know: layout.js title (string) and title.default define the default title for child segments (that do not define their own title). It will augment title.template from the closest parent segment if it exists. title.absolute defines the default title for child segments. It ignores title.template from parent segments. title.template defines a new title template for child segments. page.js If a page does not define its own title the closest parents resolved title will be used. title (string) defines the routes title. It will augment title.template from the closest parent segment if it exists. title.absolute defines the route title. It ignores title.template from parent segments. title.template has no effect in page.js because a page is always the terminating segment of a route. description layout.js | page.jsexport const metadata = { description: 'The React Framework for the Web', } <head> output<meta name=\"description\" content=\"The React Framework for the Web\" /> Other fields layout.js | page.jsexport const metadata = { generator: 'Next.js', applicationName: 'Next.js', referrer: 'origin-when-cross-origin', keywords: ['Next.js', 'React', 'JavaScript'], authors: [{ name: 'Seb' }, { name: 'Josh', url: 'https://nextjs.org' }], creator: 'Jiachi Liu', publisher: 'Sebastian Markbåge', formatDetection: { email: false, address: false, telephone: false, }, } <head> output<meta name=\"application-name\" content=\"Next.js\" /> <meta name=\"author\" content=\"Seb\" /> <link rel=\"author\" href=\"https://nextjs.org\" /> <meta name=\"author\" content=\"Josh\" /> <meta name=\"generator\" content=\"Next.js\" /> <meta name=\"keywords\" content=\"Next.js,React,JavaScript\" /> <meta name=\"referrer\" content=\"origin-when-cross-origin\" /> <meta name=\"color-scheme\" content=\"dark\" /> <meta name=\"creator\" content=\"Jiachi Liu\" /> <meta name=\"publisher\" content=\"Sebastian Markbåge\" /> <meta name=\"format-detection\" content=\"telephone=no, address=no, email=no\" /> metadataBase metadataBase is a convenience option to set a base URL prefix for metadata fields that require a fully qualified URL. metadataBase allows URL-based metadata fields defined in the current route segment and below to use a relative path instead of an otherwise required absolute URL. The field's relative path will be composed with metadataBase to form a fully qualified URL. layout.js | page.jsexport const metadata = { metadataBase: new URL('https://acme.com'), alternates: { canonical: '/', languages: { 'en-US': '/en-US', 'de-DE': '/de-DE', }, }, openGraph: { images: '/og-image.png', }, } <head> output<link rel=\"canonical\" href=\"https://acme.com\" /> <link rel=\"alternate\" hreflang=\"en-US\" href=\"https://acme.com/en-US\" /> <link rel=\"alternate\" hreflang=\"de-DE\" href=\"https://acme.com/de-DE\" /> <meta property=\"og:image\" content=\"https://acme.com/og-image.png\" /> Good to know: metadataBase is typically set in root app/layout.js to apply to URL-based metadata fields across all routes. All URL-based metadata fields that require absolute URLs can be configured with a metadataBase option. metadataBase can contain a subdomain e.g. https://app.acme.com or base path e.g. https://acme.com/start/from/here If a metadata field provides an absolute URL, metadataBase will be ignored. Using a relative path in a URL-based metadata field without configuring a metadataBase will cause a build error. Next.js will normalize duplicate slashes between metadataBase (e.g. https://acme.com/) and a relative field (e.g. /path) to a single slash (e.g. https://acme.com/path) URL Composition URL composition favors developer intent over default directory traversal semantics. Trailing slashes between metadataBase and metadata fields are normalized. An \"absolute\" path in a metadata field (that typically would replace the whole URL path) is treated as a \"relative\" path (starting from the end of metadataBase). For example, given the following metadataBase: app/layout.tsxTypeScriptJavaScriptTypeScriptimport type { Metadata } from 'next' export const metadata: Metadata = { metadataBase: new URL('https://acme.com'), } Any metadata fields that inherit the above metadataBase and set their own value will be resolved as follows: metadata fieldResolved URL/https://acme.com./https://acme.compaymentshttps://acme.com/payments/paymentshttps://acme.com/payments./paymentshttps://acme.com/payments../paymentshttps://acme.com/paymentshttps://beta.acme.com/paymentshttps://beta.acme.com/payments openGraph layout.js | page.jsexport const metadata = { openGraph: { title: 'Next.js', description: 'The React Framework for the Web', url: 'https://nextjs.org', siteName: 'Next.js', images: [ { url: 'https://nextjs.org/og.png', // Must be an absolute URL width: 800, height: 600, }, { url: 'https://nextjs.org/og-alt.png', // Must be an absolute URL width: 1800, height: 1600, alt: 'My custom alt', }, ], videos: [ { url: 'https://nextjs.org/video.mp4', // Must be an absolute URL width: 800, height: 600, }, ], audio: [ { url: 'https://nextjs.org/audio.mp3', // Must be an absolute URL }, ], locale: 'en_US', type: 'website', }, } <head> output<meta property=\"og:title\" content=\"Next.js\" /> <meta property=\"og:description\" content=\"The React Framework for the Web\" /> <meta property=\"og:url\" content=\"https://nextjs.org/\" /> <meta property=\"og:site_name\" content=\"Next.js\" /> <meta property=\"og:locale\" content=\"en_US\" /> <meta property=\"og:image\" content=\"https://nextjs.org/og.png\" /> <meta property=\"og:image:width\" content=\"800\" /> <meta property=\"og:image:height\" content=\"600\" /> <meta property=\"og:image\" content=\"https://nextjs.org/og-alt.png\" /> <meta property=\"og:image:width\" content=\"1800\" /> <meta property=\"og:image:height\" content=\"1600\" /> <meta property=\"og:image:alt\" content=\"My custom alt\" /> <meta property=\"og:video\" content=\"https://nextjs.org/video.mp4\" /> <meta property=\"og:video:width\" content=\"800\" /> <meta property=\"og:video:height\" content=\"600\" /> <meta property=\"og:audio\" content=\"https://nextjs.org/audio.mp3\" /> <meta property=\"og:type\" content=\"website\" /> layout.js | page.jsexport const metadata = { openGraph: { title: 'Next.js', description: 'The React Framework for the Web', type: 'article', publishedTime: '2023-01-01T00:00:00.000Z', authors: ['Seb', 'Josh'], }, } <head> output<meta property=\"og:title\" content=\"Next.js\" /> <meta property=\"og:description\" content=\"The React Framework for the Web\" /> <meta property=\"og:type\" content=\"article\" /> <meta property=\"article:published_time\" content=\"2023-01-01T00:00:00.000Z\" /> <meta property=\"article:author\" content=\"Seb\" /> <meta property=\"article:author\" content=\"Josh\" /> Good to know: It may be more convenient to use the file-based Metadata API for Open Graph images. Rather than having to sync the config export with actual files, the file-based API will automatically generate the correct metadata for you. robots layout.tsx | page.tsximport type { Metadata } from 'next' export const metadata: Metadata = { robots: { index: true, follow: true, nocache: false, googleBot: { index: true, follow: true, noimageindex: false, 'max-video-preview': -1, 'max-image-preview': 'large', 'max-snippet': -1, }, }, } <head> output<meta name=\"robots\" content=\"index, follow\" /> <meta name=\"googlebot\" content=\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\" /> icons Good to know: We recommend using the file-based Metadata API for icons where possible. Rather than having to sync the config export with actual files, the file-based API will automatically generate the correct metadata for you. layout.js | page.jsexport const metadata = { icons: { icon: '/icon.png', shortcut: '/shortcut-icon.png', apple: '/apple-icon.png', other: { rel: 'apple-touch-icon-precomposed', url: '/apple-touch-icon-precomposed.png', }, }, } <head> output<link rel=\"shortcut icon\" href=\"/shortcut-icon.png\" /> <link rel=\"icon\" href=\"/icon.png\" /> <link rel=\"apple-touch-icon\" href=\"/apple-icon.png\" /> <link rel=\"apple-touch-icon-precomposed\" href=\"/apple-touch-icon-precomposed.png\" /> layout.js | page.jsexport const metadata = { icons: { icon: [ { url: '/icon.png' }, new URL('/icon.png', 'https://example.com'), { url: '/icon-dark.png', media: '(prefers-color-scheme: dark)' }, ], shortcut: ['/shortcut-icon.png'], apple: [ { url: '/apple-icon.png' }, { url: '/apple-icon-x3.png', sizes: '180x180', type: 'image/png' }, ], other: [ { rel: 'apple-touch-icon-precomposed', url: '/apple-touch-icon-precomposed.png', }, ], }, } <head> output<link rel=\"shortcut icon\" href=\"/shortcut-icon.png\" /> <link rel=\"icon\" href=\"/icon.png\" /> <link rel=\"icon\" href=\"https://example.com/icon.png\" /> <link rel=\"icon\" href=\"/icon-dark.png\" media=\"(prefers-color-scheme: dark)\" /> <link rel=\"apple-touch-icon\" href=\"/apple-icon.png\" /> <link rel=\"apple-touch-icon-precomposed\" href=\"/apple-touch-icon-precomposed.png\" /> <link rel=\"apple-touch-icon\" href=\"/apple-icon-x3.png\" sizes=\"180x180\" type=\"image/png\" /> Good to know: The msapplication-* meta tags are no longer supported in Chromium builds of Microsoft Edge, and thus no longer needed. themeColor Deprecated: The themeColor option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead. colorScheme Deprecated: The colorScheme option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead. manifest A web application manifest, as defined in the Web Application Manifest specification. layout.js | page.jsexport const metadata = { manifest: 'https://nextjs.org/manifest.json', } <head> output<link rel=\"manifest\" href=\"https://nextjs.org/manifest.json\" /> twitter The Twitter specification is (surprisingly) used for more than just X (formerly known as Twitter). Learn more about the Twitter Card markup reference. layout.js | page.jsexport const metadata = { twitter: { card: 'summary_large_image', title: 'Next.js', description: 'The React Framework for the Web', siteId: '1467726470533754880', creator: '@nextjs', creatorId: '1467726470533754880', images: ['https://nextjs.org/og.png'], // Must be an absolute URL }, } <head> output<meta name=\"twitter:card\" content=\"summary_large_image\" /> <meta name=\"twitter:site:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:creator\" content=\"@nextjs\" /> <meta name=\"twitter:creator:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:title\" content=\"Next.js\" /> <meta name=\"twitter:description\" content=\"The React Framework for the Web\" /> <meta name=\"twitter:image\" content=\"https://nextjs.org/og.png\" /> layout.js | page.jsexport const metadata = { twitter: { card: 'app', title: 'Next.js', description: 'The React Framework for the Web', siteId: '1467726470533754880', creator: '@nextjs', creatorId: '1467726470533754880', images: { url: 'https://nextjs.org/og.png', alt: 'Next.js Logo', }, app: { name: 'twitter_app', id: { iphone: 'twitter_app://iphone', ipad: 'twitter_app://ipad', googleplay: 'twitter_app://googleplay', }, url: { iphone: 'https://iphone_url', ipad: 'https://ipad_url', }, }, }, } <head> output<meta name=\"twitter:site:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:creator\" content=\"@nextjs\" /> <meta name=\"twitter:creator:id\" content=\"1467726470533754880\" /> <meta name=\"twitter:title\" content=\"Next.js\" /> <meta name=\"twitter:description\" content=\"The React Framework for the Web\" /> <meta name=\"twitter:card\" content=\"app\" /> <meta name=\"twitter:image\" content=\"https://nextjs.org/og.png\" /> <meta name=\"twitter:image:alt\" content=\"Next.js Logo\" /> <meta name=\"twitter:app:name:iphone\" content=\"twitter_app\" /> <meta name=\"twitter:app:id:iphone\" content=\"twitter_app://iphone\" /> <meta name=\"twitter:app:id:ipad\" content=\"twitter_app://ipad\" /> <meta name=\"twitter:app:id:googleplay\" content=\"twitter_app://googleplay\" /> <meta name=\"twitter:app:url:iphone\" content=\"https://iphone_url\" /> <meta name=\"twitter:app:url:ipad\" content=\"https://ipad_url\" /> <meta name=\"twitter:app:name:ipad\" content=\"twitter_app\" /> <meta name=\"twitter:app:name:googleplay\" content=\"twitter_app\" /> viewport Deprecated: The viewport option in metadata is deprecated as of Next.js 14. Please use the viewport configuration instead. verification layout.js | page.jsexport const metadata = { verification: { google: 'google', yandex: 'yandex', yahoo: 'yahoo', other: { me: ['my-email', 'my-link'], }, }, } <head> output<meta name=\"google-site-verification\" content=\"google\" /> <meta name=\"y_key\" content=\"yahoo\" /> <meta name=\"yandex-verification\" content=\"yandex\" /> <meta name=\"me\" content=\"my-email\" /> <meta name=\"me\" content=\"my-link\" /> appleWebApp layout.js | page.jsexport const metadata = { itunes: { appId: 'myAppStoreID', appArgument: 'myAppArgument', }, appleWebApp: { title: 'Apple Web App', statusBarStyle: 'black-translucent', startupImage: [ '/assets/startup/apple-touch-startup-image-768x1004.png', { url: '/assets/startup/apple-touch-startup-image-1536x2008.png', media: '(device-width: 768px) and (device-height: 1024px)', }, ], }, } <head> output<meta name=\"apple-itunes-app\" content=\"app-id=myAppStoreID, app-argument=myAppArgument\" /> <meta name=\"mobile-web-app-capable\" content=\"yes\" /> <meta name=\"apple-mobile-web-app-title\" content=\"Apple Web App\" /> <link href=\"/assets/startup/apple-touch-startup-image-768x1004.png\" rel=\"apple-touch-startup-image\" /> <link href=\"/assets/startup/apple-touch-startup-image-1536x2008.png\" media=\"(device-width: 768px) and (device-height: 1024px)\" rel=\"apple-touch-startup-image\" /> <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" /> alternates layout.js | page.jsexport const metadata = { alternates: { canonical: 'https://nextjs.org', languages: { 'en-US': 'https://nextjs.org/en-US', 'de-DE': 'https://nextjs.org/de-DE', }, media: { 'only screen and (max-width: 600px)': 'https://nextjs.org/mobile', }, types: { 'application/rss+xml': 'https://nextjs.org/rss', }, }, } <head> output<link rel=\"canonical\" href=\"https://nextjs.org\" /> <link rel=\"alternate\" hreflang=\"en-US\" href=\"https://nextjs.org/en-US\" /> <link rel=\"alternate\" hreflang=\"de-DE\" href=\"https://nextjs.org/de-DE\" /> <link rel=\"alternate\" media=\"only screen and (max-width: 600px)\" href=\"https://nextjs.org/mobile\" /> <link rel=\"alternate\" type=\"application/rss+xml\" href=\"https://nextjs.org/rss\" /> appLinks layout.js | page.jsexport const metadata = { appLinks: { ios: { url: 'https://nextjs.org/ios', app_store_id: 'app_store_id', }, android: { package: 'com.example.android/package', app_name: 'app_name_android', }, web: { url: 'https://nextjs.org/web', should_fallback: true, }, }, } <head> output<meta property=\"al:ios:url\" content=\"https://nextjs.org/ios\" /> <meta property=\"al:ios:app_store_id\" content=\"app_store_id\" /> <meta property=\"al:android:package\" content=\"com.example.android/package\" /> <meta property=\"al:android:app_name\" content=\"app_name_android\" /> <meta property=\"al:web:url\" content=\"https://nextjs.org/web\" /> <meta property=\"al:web:should_fallback\" content=\"true\" /> archives Describes a collection of records, documents, or other materials of historical interest (source). layout.js | page.jsexport const metadata = { archives: ['https://nextjs.org/13'], } <head> output<link rel=\"archives\" href=\"https://nextjs.org/13\" /> assets layout.js | page.jsexport const metadata = { assets: ['https://nextjs.org/assets'], } <head> output<link rel=\"assets\" href=\"https://nextjs.org/assets\" /> bookmarks layout.js | page.jsexport const metadata = { bookmarks: ['https://nextjs.org/13'], } <head> output<link rel=\"bookmarks\" href=\"https://nextjs.org/13\" /> category layout.js | page.jsexport const metadata = { category: 'technology', } <head> output<meta name=\"category\" content=\"technology\" /> facebook You can connect a Facebook app or Facebook account to your webpage for certain Facebook Social Plugins Facebook Documentation Good to know: You can specify either appId or admins, but not both. layout.js | page.jsexport const metadata = { facebook: { appId: '12345678', }, } <head> output<meta property=\"fb:app_id\" content=\"12345678\" /> layout.js | page.jsexport const metadata = { facebook: { admins: '12345678', }, } <head> output<meta property=\"fb:admins\" content=\"12345678\" /> If you want to generate multiple fb:admins meta tags you can use array value. layout.js | page.jsexport const metadata = { facebook: { admins: ['12345678', '87654321'], }, } <head> output<meta property=\"fb:admins\" content=\"12345678\" /> <meta property=\"fb:admins\" content=\"87654321\" /> pinterest You can enable or disable Pinterest Rich Pins on your webpage. layout.js | page.jsexport const metadata = { pinterest: { richPin: true, }, } <head> output<meta name=\"pinterest-rich-pin\" content=\"true\" /> other All metadata options should be covered using the built-in support. However, there may be custom metadata tags specific to your site, or brand new metadata tags just released. You can use the other option to render any custom metadata tag. layout.js | page.jsexport const metadata = { other: { custom: 'meta', }, } <head> output<meta name=\"custom\" content=\"meta\" /> If you want to generate multiple same key meta tags you can use array value. layout.js | page.jsexport const metadata = { other: { custom: ['meta1', 'meta2'], }, } <head> output<meta name=\"custom\" content=\"meta1\" /> <meta name=\"custom\" content=\"meta2\" /> Types You can add type safety to your metadata by using the Metadata type. If you are using the built-in TypeScript plugin in your IDE, you do not need to manually add the type, but you can still explicitly add it if you want. metadata object layout.tsx | page.tsximport type { Metadata } from 'next' export const metadata: Metadata = { title: 'Next.js', } generateMetadata function Regular function layout.tsx | page.tsximport type { Metadata } from 'next' export function generateMetadata(): Metadata { return { title: 'Next.js', } } Async function layout.tsx | page.tsximport type { Metadata } from 'next' export async function generateMetadata(): Promise<Metadata> { return { title: 'Next.js', } } With segment props layout.tsx | page.tsximport type { Metadata } from 'next' type Props = { params: Promise<{ id: string }> searchParams: Promise<{ [key: string]: string | string[] | undefined }> } export function generateMetadata({ params, searchParams }: Props): Metadata { return { title: 'Next.js', } } export default function Page({ params, searchParams }: Props) {} With parent metadata layout.tsx | page.tsximport type { Metadata, ResolvingMetadata } from 'next' export async function generateMetadata( { params, searchParams }: Props, parent: ResolvingMetadata ): Promise<Metadata> { return { title: 'Next.js', } } JavaScript Projects For JavaScript projects, you can use JSDoc to add type safety. layout.js | page.js/** @type {import(\"next\").Metadata} */ export const metadata = { title: 'Next.js', } Unsupported Metadata The following metadata types do not currently have built-in support. However, they can still be rendered in the layout or page itself. MetadataRecommendation<meta http-equiv=\"...\">Use appropriate HTTP Headers via redirect(), Proxy, Security Headers<base>Render the tag in the layout or page itself.<noscript>Render the tag in the layout or page itself.<style>Learn more about styling in Next.js.<script>Learn more about using scripts.<link rel=\"stylesheet\" />import stylesheets directly in the layout or page itself.<link rel=\"preload />Use ReactDOM preload method<link rel=\"preconnect\" />Use ReactDOM preconnect method<link rel=\"dns-prefetch\" />Use ReactDOM prefetchDNS method Resource hints The <link> element has a number of rel keywords that can be used to hint to the browser that an external resource is likely to be needed. The browser uses this information to apply preloading optimizations depending on the keyword. While the Metadata API doesn't directly support these hints, you can use new ReactDOM methods to safely insert them into the <head> of the document. app/preload-resources.tsxTypeScriptJavaScriptTypeScript'use client' import ReactDOM from 'react-dom' export function PreloadResources() { ReactDOM.preload('...', { as: '...' }) ReactDOM.preconnect('...', { crossOrigin: '...' }) ReactDOM.prefetchDNS('...') return '...' } <link rel=\"preload\"> Start loading a resource early in the page rendering (browser) lifecycle. MDN Docs. ReactDOM.preload(href: string, options: { as: string }) <head> output<link rel=\"preload\" href=\"...\" as=\"...\" /> <link rel=\"preconnect\"> Preemptively initiate a connection to an origin. MDN Docs. ReactDOM.preconnect(href: string, options?: { crossOrigin?: string }) <head> output<link rel=\"preconnect\" href=\"...\" crossorigin /> <link rel=\"dns-prefetch\"> Attempt to resolve a domain name before resources get requested. MDN Docs. ReactDOM.prefetchDNS(href: string) <head> output<link rel=\"dns-prefetch\" href=\"...\" /> Good to know: These methods are currently only supported in Client Components, which are still Server Side Rendered on initial page load. Next.js in-built features such as next/font, next/image and next/script automatically handle relevant resource hints. Behavior Default Fields There are two default meta tags that are always added even if a route doesn't define metadata: The meta charset tag sets the character encoding for the website. The meta viewport tag sets the viewport width and scale for the website to adjust for different devices. <meta charset=\"utf-8\" /> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /> Good to know: You can overwrite the default viewport meta tag. Streaming metadata Streaming metadata allows Next.js to render and send the initial UI to the browser, without waiting for generateMetadata to complete. When generateMetadata resolves, the resulting metadata tags are appended to the <body> tag. We have verified that metadata is interpreted correctly by bots that execute JavaScript and inspect the full DOM (e.g. Googlebot). For HTML-limited bots that can’t execute JavaScript (e.g. facebookexternalhit), metadata continues to block page rendering. The resulting metadata will be available in the <head> tag. Next.js automatically detects HTML-limited bots by looking at the User Agent header. You can use the htmlLimitedBots option in your Next.js config file to override the default User Agent list. To fully disable streaming metadata: next.config.tsTypeScriptJavaScriptTypeScriptimport type { NextConfig } from 'next' const config: NextConfig = { htmlLimitedBots: /.*/, } export default config Streaming metadata improves perceived performance by reducing TTFB and can help lowering LCP time. Overriding htmlLimitedBots could lead to longer response times. Streaming metadata is an advanced feature, and the default should be sufficient for most cases. Ordering Metadata is evaluated in order, starting from the root segment down to the segment closest to the final page.js segment. For example: app/layout.tsx (Root Layout) app/blog/layout.tsx (Nested Blog Layout) app/blog/[slug]/page.tsx (Blog Page) Merging Following the evaluation order, Metadata objects exported from multiple segments in the same route are shallowly merged together to form the final metadata output of a route. Duplicate keys are replaced based on their ordering. This means metadata with nested fields such as openGraph and robots that are defined in an earlier segment are overwritten by the last segment to define them. Overwriting fields app/layout.jsexport const metadata = { title: 'Acme', openGraph: { title: 'Acme', description: 'Acme is a...', }, } app/blog/page.jsexport const metadata = { title: 'Blog', openGraph: { title: 'Blog', }, } // Output: // <title>Blog</title> // <meta property=\"og:title\" content=\"Blog\" /> In the example above: title from app/layout.js is replaced by title in app/blog/page.js. All openGraph fields from app/layout.js are replaced in app/blog/page.js because app/blog/page.js sets openGraph metadata. Note the absence of openGraph.description. If you'd like to share some nested fields between segments while overwriting others, you can pull them out into a separate variable: app/shared-metadata.jsexport const openGraphImage = { images: ['http://...'] } app/page.jsimport { openGraphImage } from './shared-metadata' export const metadata = { openGraph: { ...openGraphImage, title: 'Home', }, } app/about/page.jsimport { openGraphImage } from '../shared-metadata' export const metadata = { openGraph: { ...openGraphImage, title: 'About', }, } In the example above, the OG image is shared between app/layout.js and app/about/page.js while the titles are different. Inheriting fields app/layout.jsexport const metadata = { title: 'Acme', openGraph: { title: 'Acme', description: 'Acme is a...', }, } app/about/page.jsexport const metadata = { title: 'About', } // Output: // <title>About</title> // <meta property=\"og:title\" content=\"Acme\" /> // <meta property=\"og:description\" content=\"Acme is a...\" /> Notes title from app/layout.js is replaced by title in app/about/page.js. All openGraph fields from app/layout.js are inherited in app/about/page.js because app/about/page.js doesn't set openGraph metadata. Version History VersionChangesv15.2.0Introduced streaming support to generateMetadata.v13.2.0viewport, themeColor, and colorScheme deprecated in favor of the viewport configuration.v13.2.0metadata and generateMetadata introduced.",
      "code": "metadata"
    },
    {
      "description": "Metadata is evaluated in order, starting from the root segment down to the segment closest to the final page.js segment. For example:",
      "code": "page.js"
    }
  ],
  "links": [
    "https://nextjs.org/docs/app/api-reference",
    "https://nextjs.org/docs/app/api-reference/functions",
    "https://nextjs.org/docs/app/api-reference/functions/generate-metadata",
    "https://nextjs.org/docs/app/api-reference/file-conventions/page",
    "https://nextjs.org/docs/app/api-reference/file-conventions/layout",
    "https://nextjs.org/docs/app/guides/caching",
    "https://nextjs.org/docs/app/api-reference/file-conventions/metadata",
    "https://nextjs.org/docs/app/api-reference/file-conventions/dynamic-routes",
    "https://nextjs.org/docs/app/api-reference/functions/redirect",
    "https://nextjs.org/docs/app/api-reference/functions/not-found",
    "https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image",
    "https://nextjs.org/docs/app/api-reference/file-conventions/metadata/app-icons",
    "https://nextjs.org/docs/app/api-reference/functions/generate-viewport",
    "https://nextjs.org/docs/app/api-reference/config/typescript",
    "https://nextjs.org/docs/app/api-reference/file-conventions/proxy",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/headers",
    "https://nextjs.org/docs/app/getting-started/css",
    "https://nextjs.org/docs/app/guides/scripts",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/htmlLimitedBots",
    "https://nextjs.org/docs/app/api-reference/functions/generate-image-metadata",
    "https://nextjs.org/docs/app/api-reference/functions/generate-sitemaps"
  ]
}