{
  "url": "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-paths",
  "title": "getStaticPaths",
  "content": "If a page has Dynamic Routes and uses getStaticProps, it needs to define a list of paths to be statically generated.\n\nWhen you export a function called getStaticPaths (Static Site Generation) from a page that uses dynamic routes, Next.js will statically pre-render all the paths specified by getStaticPaths.\n\nThe getStaticPaths API reference covers all parameters and props that can be used with getStaticPaths.\n\nYou should use getStaticPaths if youâ€™re statically pre-rendering pages that use dynamic routes and:\n\ngetStaticPaths will only run during build in production, it will not be called during runtime. You can validate code written inside getStaticPaths is removed from the client-side bundle with this tool.\n\nIn development (next dev), getStaticPaths will be called on every request.\n\ngetStaticPaths allows you to control which pages are generated during the build instead of on-demand with fallback. Generating more pages during a build will cause slower builds.\n\nYou can defer generating all pages on-demand by returning an empty array for paths. This can be especially helpful when deploying your Next.js application to multiple environments. For example, you can have faster builds by generating all pages on-demand for previews (but not production builds). This is helpful for sites with hundreds/thousands of static pages.",
  "headings": [
    {
      "level": "h1",
      "text": "getStaticPaths",
      "id": ""
    },
    {
      "level": "h2",
      "text": "When should I use getStaticPaths?",
      "id": "when-should-i-use-getstaticpaths"
    },
    {
      "level": "h2",
      "text": "When does getStaticPaths run",
      "id": "when-does-getstaticpaths-run"
    },
    {
      "level": "h3",
      "text": "How does getStaticProps run with regards to getStaticPaths",
      "id": "how-does-getstaticprops-run-with-regards-to-getstaticpaths"
    },
    {
      "level": "h2",
      "text": "Where can I use getStaticPaths",
      "id": "where-can-i-use-getstaticpaths"
    },
    {
      "level": "h2",
      "text": "Runs on every request in development",
      "id": "runs-on-every-request-in-development"
    },
    {
      "level": "h2",
      "text": "Generating paths on-demand",
      "id": "generating-paths-on-demand"
    }
  ],
  "code_samples": [
    {
      "code": "import type {\n  InferGetStaticPropsType,\n  GetStaticProps,\n  GetStaticPaths,\n} from 'next'\n \ntype Repo = {\n  name: string\n  stargazers_count: number\n}\n \nexport const getStaticPaths = (async () => {\n  return {\n    paths: [\n      {\n        params: {\n          name: 'next.js',\n        },\n      }, // See the \"paths\" section below\n    ],\n    fallback: true, // false or \"blocking\"\n  }\n}) satisfies GetStaticPaths\n \nexport const getStaticProps = (async (context) => {\n  const res = await fetch('https://api.github.com/repos/vercel/next.js')\n  const repo = await res.json()\n  return { props: { repo } }\n}) satisfies GetStaticProps<{\n  repo: Repo\n}>\n \nexport default function Page({\n  repo,\n}: InferGetStaticPropsType<typeof getStaticProps>) {\n  return repo.stargazers_count\n}",
      "language": "python"
    },
    {
      "code": "export async function getStaticPaths() {\n  // When this is true (in preview environments) don't\n  // prerender any static pages\n  // (faster builds, but slower initial page load)\n  if (process.env.SKIP_BUILD_STATIC_GENERATION) {\n    return {\n      paths: [],\n      fallback: 'blocking',\n    }\n  }\n \n  // Call an external API endpoint to get posts\n  const res = await fetch('https://.../posts')\n  const posts = await res.json()\n \n  // Get the paths we want to prerender based on posts\n  // In production environments, prerender all pages\n  // (slower builds, but faster initial page load)\n  const paths = posts.map((post) => ({\n    params: { id: post.id },\n  }))\n \n  // { fallback: false } means other routes should 404\n  return { paths, fallback: false }\n}",
      "language": "javascript"
    }
  ],
  "patterns": [],
  "links": [
    "https://nextjs.org/docs/pages/building-your-application",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching",
    "https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes",
    "https://nextjs.org/docs/pages/api-reference/functions/get-static-paths",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-paths",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-server-side-props",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-props",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/forms-and-mutations"
  ]
}