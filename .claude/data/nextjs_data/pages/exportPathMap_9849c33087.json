{
  "url": "https://nextjs.org/docs/app/api-reference/config/next-config-js/exportPathMap",
  "title": "exportPathMap",
  "content": "This feature is exclusive to next export and currently deprecated in favor of getStaticPaths with pages or generateStaticParams with app.\n\nexportPathMap allows you to specify a mapping of request paths to page destinations, to be used during export. Paths defined in exportPathMap will also be available when using next dev.\n\nLet's start with an example, to create a custom exportPathMap for an app with the following pages:\n\nOpen next.config.js and add the following exportPathMap config:\n\nGood to know: the query field in exportPathMap cannot be used with automatically statically optimized pages or getStaticProps pages as they are rendered to HTML files at build-time and additional query information cannot be provided during next export.\n\nThe pages will then be exported as HTML files, for example, /about will become /about.html.\n\nexportPathMap is an async function that receives 2 arguments: the first one is defaultPathMap, which is the default map used by Next.js. The second argument is an object with:\n\nThe returned object is a map of pages where the key is the pathname and the value is an object that accepts the following fields:\n\nThe exported pathname can also be a filename (for example, /readme.md), but you may need to set the Content-Type header to text/html when serving its content if it is different than .html.\n\nIt is possible to configure Next.js to export pages as index.html files and require trailing slashes, /about becomes /about/index.html and is routable via /about/. This was the default behavior prior to Next.js 9.\n\nTo switch back and add a trailing slash, open next.config.js and enable the trailingSlash config:\n\nnext export will use out as the default output directory, you can customize this using the -o argument, like so:\n\nWarning: Using exportPathMap is deprecated and is overridden by getStaticPaths inside pages. We don't recommend using them together.",
  "headings": [
    {
      "level": "h1",
      "text": "exportPathMap",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Adding a trailing slash",
      "id": "adding-a-trailing-slash"
    },
    {
      "level": "h2",
      "text": "Customizing the output directory",
      "id": "customizing-the-output-directory"
    }
  ],
  "code_samples": [
    {
      "code": "module.exports = {\n  exportPathMap: async function (\n    defaultPathMap,\n    { dev, dir, outDir, distDir, buildId }\n  ) {\n    return {\n      '/': { page: '/' },\n      '/about': { page: '/about' },\n      '/p/hello-nextjs': { page: '/post', query: { title: 'hello-nextjs' } },\n      '/p/learn-nextjs': { page: '/post', query: { title: 'learn-nextjs' } },\n      '/p/deploy-nextjs': { page: '/post', query: { title: 'deploy-nextjs' } },\n    }\n  },\n}",
      "language": "unknown"
    },
    {
      "code": "module.exports = {\n  trailingSlash: true,\n}",
      "language": "unknown"
    },
    {
      "code": "next export -o outdir",
      "language": "unknown"
    }
  ],
  "patterns": [],
  "links": [
    "https://nextjs.org/docs/app/api-reference/config",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js",
    "https://nextjs.org/docs/app/api-reference/cli/next",
    "https://nextjs.org/docs/pages/building-your-application/rendering/automatic-static-optimization",
    "https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-props",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/exportPathMap",
    "https://nextjs.org/docs/pages/api-reference/config/next-config-js/distDir",
    "https://nextjs.org/docs/app/guides/static-exports",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/expireTime",
    "https://nextjs.org/docs/app/api-reference/config/next-config-js/generateBuildId"
  ]
}