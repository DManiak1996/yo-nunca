{
  "title": "LangChain Code node",
  "content": "Use the LangChain Code node to import LangChain. This means if there is functionality you need that n8n hasn't created a node for, you can still use it. By configuring the LangChain Code node connectors you can use it as a normal node, root node or sub-node.\n\nOn this page, you'll find the node parameters, guidance on configuring the node, and links to more resources.\n\nNot available on Cloud\n\nThis node is only available on self-hosted n8n.\n\nAdd your custom code. Choose either **Execute** or **Supply Data** mode. You can only use one mode.\n\nUnlike the [Code node](../../../core-nodes/n8n-nodes-base.code/), the LangChain Code node doesn't support Python.\n\n- **Execute**: use the LangChain Code node like n8n's own Code node. This takes input data from the workflow, processes it, and returns it as the node output. This mode requires a main input and output. You must create these connections in **Inputs** and **Outputs**.\n- **Supply Data**: use the LangChain Code node as a sub-node, sending data to a root node. This uses an output other than main.\n\nBy default, you can't load built-in or external modules in this node. Self-hosted users can [enable built-in and external modules](../../../../../hosting/configuration/configuration-methods/).\n\nChoose the input types.\n\nThe main input is the normal connector found in all n8n workflows. If you have a main input and output set in the node, **Execute** code is required.\n\nChoose the output types.\n\nThe main output is the normal connector found in all n8n workflows. If you have a main input and output set in the node, **Execute** code is required.\n\n## Node inputs and outputs configuration\n\nBy configuring the LangChain Code node connectors (inputs and outputs) you can use it as an app node, root node or sub-node.\n\n| Node type                                                                       | Inputs                        | Outputs                                                                   | Code mode   |\n| ------------------------------------------------------------------------------- | ----------------------------- | ------------------------------------------------------------------------- | ----------- |\n| App node. Similar to the [Code node](../../../core-nodes/n8n-nodes-base.code/). | Main                          | Main                                                                      | Execute     |\n| Root node                                                                       | Main; at least one other type | Main                                                                      | Execute     |\n| Sub-node                                                                        | -                             | A type other than main. Must match the input type you want to connect to. | Supply Data |\n| Sub-node with sub-nodes                                                         | A type other than main        | A type other than main. Must match the input type you want to connect to. | Supply Data |\n\nn8n provides these methods to make it easier to perform common tasks in the LangChain Code node.\n\n| Method                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n| ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `this.addInputData(inputName, data)`                             | Populate the data of a specified non-main input. Useful for mocking data. - `inputName` is the input connection type, and must be one of: `ai_agent`, `ai_chain`, `ai_document`, `ai_embedding`, `ai_languageModel`, `ai_memory`, `ai_outputParser`, `ai_retriever`, `ai_textSplitter`, `ai_tool`, `ai_vectorRetriever`, `ai_vectorStore` - `data` contains the data you want to add. Refer to [Data structure](../../../../../data/data-structure/) for information on the data structure expected by n8n.   |\n| `this.addOutputData(outputName, data)`                           | Populate the data of a specified non-main output. Useful for mocking data. - `outputName` is the input connection type, and must be one of: `ai_agent`, `ai_chain`, `ai_document`, `ai_embedding`, `ai_languageModel`, `ai_memory`, `ai_outputParser`, `ai_retriever`, `ai_textSplitter`, `ai_tool`, `ai_vectorRetriever`, `ai_vectorStore` - `data` contains the data you want to add. Refer to [Data structure](../../../../../data/data-structure/) for information on the data structure expected by n8n. |\n| `this.getInputConnectionData(inputName, itemIndex, inputIndex?)` | Get data from a specified non-main input. - `inputName` is the input connection type, and must be one of: `ai_agent`, `ai_chain`, `ai_document`, `ai_embedding`, `ai_languageModel`, `ai_memory`, `ai_outputParser`, `ai_retriever`, `ai_textSplitter`, `ai_tool`, `ai_vectorRetriever`, `ai_vectorStore` - `itemIndex` should always be `0` (this parameter will be used in upcoming functionality) - Use `inputIndex` if there is more than one node connected to the specified input.                      |\n| `this.getInputData(inputIndex?, inputName?)`                     | Get data from the main input.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| `this.getNode()`                                                 | Get the current node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |\n| `this.getNodeOutputs()`                                          | Get the outputs of the current node.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |\n| `this.getExecutionCancelSignal()`                                | Use this to stop the execution of a function when the workflow stops. In most cases n8n handles this, but you may need to use it if building your own chains or agents. It replaces the [Cancelling a running LLMChain](https://js.langchain.com/docs/modules/chains/foundational/llm_chain#cancelling-a-running-llmchain) code that you'd use if building a LangChain application normally.                                                                                                                  |\n\n## Templates and examples\n\n**ðŸ¤– AI Powered RAG Chatbot for Your Docs + Google Drive + Gemini + Qdrant**\n\n[View template details](https://n8n.io/workflows/2982-ai-powered-rag-chatbot-for-your-docs-google-drive-gemini-qdrant/)\n\n**Custom LangChain agent written in JavaScript**\n\n[View template details](https://n8n.io/workflows/1955-custom-langchain-agent-written-in-javascript/)\n\n**Use any LangChain module in n8n (with the LangChain code node)**\n\n[View template details](https://n8n.io/workflows/2082-use-any-langchain-module-in-n8n-with-the-langchain-code-node/)\n\n[Browse LangChain Code integration templates](https://n8n.io/integrations/langchain-code/), or [search all templates](https://n8n.io/workflows/)\n\nView n8n's [Advanced AI](../../../../../advanced-ai/) documentation.",
  "code_samples": [],
  "headings": [
    {
      "level": "h2",
      "text": "Node parameters",
      "id": "node-parameters"
    },
    {
      "level": "h3",
      "text": "Add Code",
      "id": "add-code"
    },
    {
      "level": "h3",
      "text": "Inputs",
      "id": "inputs"
    },
    {
      "level": "h3",
      "text": "Outputs",
      "id": "outputs"
    },
    {
      "level": "h2",
      "text": "Node inputs and outputs configuration",
      "id": "node-inputs-and-outputs-configuration"
    },
    {
      "level": "h2",
      "text": "Built-in methods",
      "id": "built-in-methods"
    },
    {
      "level": "h2",
      "text": "Templates and examples",
      "id": "templates-and-examples"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    }
  ],
  "url": "llms-txt#langchain-code-node",
  "links": []
}