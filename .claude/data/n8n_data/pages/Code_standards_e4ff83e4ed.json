{
  "title": "Code standards",
  "content": "Following defined code standards when building your node makes your code more readable and maintainable, and helps avoid errors. This document provides guidance on good code practices for node building. It focuses on code details. For UI standards and UX guidance, refer to [Node UI design](../../../plan/node-ui-design/).\n\nThe n8n node linter provides automatic checking for many of the node-building standards. You should ensure your node passes the linter's checks before publishing it. Refer to the [n8n node linter](../../../test/node-linter/) documentation for more information.\n\nThe n8n node starter project includes a recommended setup, dependencies (including the linter), and examples to help you get started. Begin new projects with the [starter](https://github.com/n8n-io/n8n-nodes-starter).\n\n## Write in TypeScript\n\nAll n8n code is TypeScript. Writing your nodes in TypeScript can speed up development and reduce bugs.\n\n## Detailed guidelines for writing a node\n\nThese guidelines apply to any node you build.\n\n### Resources and operations\n\nIf your node can perform several operations, call the parameter that sets the operation `Operation`. If your node can do these operations on more than one resource, create a `Resource` parameter. The following code sample shows a basic resource and operations setup:\n\n### Reuse internal parameter names\n\nAll resource and operation fields in an n8n node have two settings: a display name, set using the `name` parameter, and an internal name, set using the `value` parameter. Reusing the internal name for fields allows n8n to preserve user-entered data if a user switches operations.\n\nFor example: you're building a node with a resource named 'Order'. This resource has several operations, including Get, Edit, and Delete. Each of these operations uses an order ID to perform the operation on the specified order. You need to display an ID field for the user. This field has a display label, and an internal name. By using the same internal name (set in `value`) for the operation ID field on each resource, a user can enter the ID with the Get operation selected, and not lose it if they switch to Edit.\n\nWhen reusing the internal name, you must ensure that only one field is visible to the user at a time. You can control this using `displayOptions`.\n\n## Detailed guidelines for writing a programmatic-style node\n\nThese guidelines apply when building nodes using the programmatic node-building style. They aren't relevant when using the declarative style. For more information on different node-building styles, refer to [Choose your node building approach](../../../plan/choose-node-method/).\n\n### Don't change incoming data\n\nNever change the incoming data a node receives (data accessible with `this.getInputData()`) as all nodes share it. If you need to add, change, or delete data, clone the incoming data and return the new data. If you don't do this, sibling nodes that execute after the current one will operate on the altered data and process incorrect data.\n\nIt's not necessary to always clone all the data. For example, if a node changes the binary data but not the JSON data, you can create a new item that reuses the reference to the JSON item.\n\n### Use the built in request library\n\nSome third-party services have their own libraries on npm, which make it easier to create an integration. The problem with these packages is that you add another dependency (plus all the dependencies of the dependencies). This adds more and more code, which has to be loaded, can introduce security vulnerabilities, bugs, and so on. Instead, use the built-in module:\n\nThis uses the npm package [Axios](https://www.npmjs.com/package/axios).\n\nRefer to [HTTP helpers](../http-helpers/) for more information, and for migration instructions for the removed `this.helpers.request`.",
  "code_samples": [
    {
      "code": "export const ExampleNode implements INodeType {\n    description: {\n        displayName: 'Example Node',\n        ...\n        properties: [\n            {\n                displayName: 'Resource',\n                name: 'resource',\n                type: 'options',\n                options: [\n                    {\n                        name: 'Resource One',\n                        value: 'resourceOne'\n                    },\n                    {\n                        name: 'Resource Two',\n                        value: 'resourceTwo'\n                    }\n                ],\n                default: 'resourceOne'\n            },\n            {\n                displayName: 'Operation',\n                name: 'operation',\n                type: 'options',\n                // Only show these operations for Resource One\n                displayOptions: {\n                    show: {\n                        resource: [\n                            'resourceOne'\n                        ]\n                    }\n                },\n                options: [\n                    {\n                        name: 'Create',\n                        value: 'create',\n                        description: 'Create an instance of Resource One'\n                    }\n                ]\n            }\n        ]\n    }\n}",
      "language": "unknown"
    },
    {
      "code": "// If no auth needed\nconst response = await this.helpers.httpRequest(options);\n\n// If auth needed\nconst response = await this.helpers.httpRequestWithAuthentication.call(\n\tthis, \n\t'credentialTypeName', // For example: pipedriveApi\n\toptions,\n);",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Use the linter",
      "id": "use-the-linter"
    },
    {
      "level": "h2",
      "text": "Use the starter",
      "id": "use-the-starter"
    },
    {
      "level": "h2",
      "text": "Write in TypeScript",
      "id": "write-in-typescript"
    },
    {
      "level": "h2",
      "text": "Detailed guidelines for writing a node",
      "id": "detailed-guidelines-for-writing-a-node"
    },
    {
      "level": "h3",
      "text": "Resources and operations",
      "id": "resources-and-operations"
    },
    {
      "level": "h3",
      "text": "Reuse internal parameter names",
      "id": "reuse-internal-parameter-names"
    },
    {
      "level": "h2",
      "text": "Detailed guidelines for writing a programmatic-style node",
      "id": "detailed-guidelines-for-writing-a-programmatic-style-node"
    },
    {
      "level": "h3",
      "text": "Don't change incoming data",
      "id": "don't-change-incoming-data"
    },
    {
      "level": "h3",
      "text": "Use the built in request library",
      "id": "use-the-built-in-request-library"
    }
  ],
  "url": "llms-txt#code-standards",
  "links": []
}