{
  "title": "Docker Installation",
  "content": "n8n recommends using [Docker](https://www.docker.com/) for most self-hosting needs. It provides a clean, isolated environment, avoids operating system and tooling incompatibilities, and makes database and environment management simpler.\n\nYou can also use n8n in Docker with [Docker Compose](../server-setups/docker-compose/). You can find Docker Compose configurations for various architectures in the [n8n-hosting repository](https://github.com/n8n-io/n8n-hosting).\n\nSelf-hosting knowledge prerequisites\n\nSelf-hosting n8n requires technical knowledge, including:\n\n- Setting up and configuring servers and containers\n- Managing application resources and scaling\n- Securing servers and applications\n- Configuring n8n\n\nn8n recommends self-hosting for expert users. Mistakes can lead to data loss, security issues, and downtime. If you aren't experienced at managing servers, n8n recommends [n8n Cloud](https://n8n.io/cloud/).\n\nYou can also follow along with our video guide here:\n\nBefore proceeding, install Docker:\n\n- [Docker Desktop](https://docs.docker.com/get-docker/) is available for Mac, Windows, and Linux. Docker Desktop includes the Docker Engine and Docker Compose.\n- [Docker Engine](https://docs.docker.com/engine/install/) and [Docker Compose](https://docs.docker.com/compose/install/linux/) are also available as separate packages for Linux. Use this for Linux machines without a graphical environment or when you don't want the Docker Desktop UI.\n\nLatest and Next versions\n\nn8n releases a new minor version most weeks. The `latest` version is for production use. `next` is the most recent release. You should treat `next` as a beta: it may be unstable. To report issues, use the [forum](https://community.n8n.io/c/questions/12).\n\nCurrent `latest`: 1.118.1\\\nCurrent `next`: 1.119.0\n\nFrom your terminal, run the following commands, replacing the `<YOUR_TIMEZONE>` placeholders with [your timezone](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#List):\n\nThis command creates a volume to store persistent data, downloads the required n8n image, and starts the container with the following settings:\n\n- Maps and exposes port `5678` on the host.\n- Sets the timezone for the container:\n  - the `TZ` environment variable sets the system timezone to control what scripts and commands like `date` return.\n  - the [`GENERIC_TIMEZONE` environment variable](../../configuration/environment-variables/timezone-localization/) sets the correct timezone for schedule-oriented nodes like the [Schedule Trigger node](../../../integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/).\n- Enforces secure file permissions for the n8n configuration file.\n- Enables [task runners](../../configuration/task-runners/), the recommended way of executing tasks in n8n.\n- Mounts the `n8n_data` volume to the `/home/node/.n8n` directory to persist your data across container restarts.\n\nOnce running, you can access n8n by opening: <http://localhost:5678>\n\n## Using with PostgreSQL\n\nBy default, n8n uses SQLite to save [credentials](../../../glossary/#credential-n8n), past executions, and workflows. n8n also supports PostgreSQL, configurable using environment variables as detailed below.\n\nPersisting the `.n8n` directory still recommended\n\nWhen using PostgreSQL, n8n doesn't need to use the `.n8n` directory for the SQLite database file. However, the directory still contains other important data like encryption keys, instance logs, and source control feature assets. While you can work around some of these requirements, (for example, by setting the [`N8N_ENCRYPTION_KEY` environment variable](../../configuration/environment-variables/deployment/)), it's best to continue mapping a persistent volume for the directory to avoid potential issues.\n\nTo use n8n with PostgreSQL, execute the following commands, replacing the placeholders (depicted within angled brackets, for example `<POSTGRES_USER>`) with your actual values:\n\nYou can find a complete `docker-compose` file for PostgreSQL in the [n8n hosting repository](https://github.com/n8n-io/n8n-hosting/tree/main/docker-compose/withPostgres).\n\nTo update n8n, in Docker Desktop, navigate to the **Images** tab and select **Pull** from the context menu to download the latest n8n image:\n\nYou can also use the command line to pull the latest, or a specific version:",
  "code_samples": [
    {
      "code": "docker volume create n8n_data\n\ndocker run -it --rm \\\n --name n8n \\\n -p 5678:5678 \\\n -e GENERIC_TIMEZONE=\"<YOUR_TIMEZONE>\" \\\n -e TZ=\"<YOUR_TIMEZONE>\" \\\n -e N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true \\\n -e N8N_RUNNERS_ENABLED=true \\\n -v n8n_data:/home/node/.n8n \\\n docker.n8n.io/n8nio/n8n",
      "language": "unknown"
    },
    {
      "code": "docker volume create n8n_data\n\ndocker run -it --rm \\\n --name n8n \\\n -p 5678:5678 \\\n -e GENERIC_TIMEZONE=\"<YOUR_TIMEZONE>\" \\\n -e TZ=\"<YOUR_TIMEZONE>\" \\\n -e N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true \\\n -e N8N_RUNNERS_ENABLED=true \\\n -e DB_TYPE=postgresdb \\\n -e DB_POSTGRESDB_DATABASE=<POSTGRES_DATABASE> \\\n -e DB_POSTGRESDB_HOST=<POSTGRES_HOST> \\\n -e DB_POSTGRESDB_PORT=<POSTGRES_PORT> \\\n -e DB_POSTGRESDB_USER=<POSTGRES_USER> \\\n -e DB_POSTGRESDB_SCHEMA=<POSTGRES_SCHEMA> \\\n -e DB_POSTGRESDB_PASSWORD=<POSTGRES_PASSWORD> \\\n -v n8n_data:/home/node/.n8n \\\n docker.n8n.io/n8nio/n8n",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Starting n8n",
      "id": "starting-n8n"
    },
    {
      "level": "h2",
      "text": "Using with PostgreSQL",
      "id": "using-with-postgresql"
    },
    {
      "level": "h2",
      "text": "Updating",
      "id": "updating"
    }
  ],
  "url": "llms-txt#docker-installation",
  "links": []
}