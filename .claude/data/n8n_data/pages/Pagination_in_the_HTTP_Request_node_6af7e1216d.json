{
  "title": "Pagination in the HTTP Request node",
  "content": "The HTTP Request node supports pagination. This page provides some example configurations, including using the [HTTP node variables](../../../builtin/http-node-variables/).\n\nRefer to [HTTP Request](../../../../integrations/builtin/core-nodes/n8n-nodes-base.httprequest/) for more information on the node.\n\nDifferent APIs implement pagination in different ways. Check the API documentation for the API you're using for details. You need to find out things like:\n\n- Does the API provide the URL for the next page?\n- Are there API-specific limits on page size or page number?\n- The structure of the data that the API returns.\n\nIn the HTTP Request node, select **Add Option** > **Pagination**.\n\n## Use a URL from the response to get the next page using `$response`\n\nIf the API returns the URL of the next page in its response:\n\n1. Set **Pagination Mode** to **Response Contains Next URL**. n8n displays the parameters for this option.\n\n1. In **Next URL**, use an [expression](../../../../glossary/#expression-n8n) to set the URL. The exact expression depends on the data returned by your API. For example, if the API includes a parameter called `next-page` in the response body:\n\n## Get the next page by number using `$pageCount`\n\nIf the API you're using supports targeting a specific page by number:\n\n1. Set **Pagination Mode** to **Update a Parameter in Each Request**.\n1. Set **Type** to **Query**.\n1. Enter the **Name** of the query parameter. This depends on your API and is usually described in its documentation. For example, some APIs use a query parameter named `page` to set the page. So **Name** would be `page`.\n1. Hover over **Value** and toggle **Expression** on.\n1. Enter `{{ $pageCount + 1 }}`\n\n`$pageCount` is the number of pages the HTTP Request node has fetched. It starts at zero. Most API pagination counts from one (the first page is page one). This means that adding `+1` to `$pageCount` means the node fetches page one on its first loop, page two on its second, and so on.\n\n## Navigate pagination through body parameters\n\nIf the API you're using allows you to paginate through the body parameters:\n\n1. Set the HTTP Request Method to **POST**\n1. Set **Pagination Mode** to **Update a Parameter in Each Request**.\n1. Select **Body** in the **Type** parameter.\n1. Enter the **Name** of the body parameter. This depends on the API you're using. `page` is a common key name.\n1. Hover over **Value** and toggle **Expression** on.\n1. Enter `{{ $pageCount + 1 }}`\n\n## Set the page size in the query\n\nIf the API you're using supports choosing the page size in the query:\n\n1. Select **Send Query Parameters** in main node parameters (this is the parameters you see when you first open the node, not the settings within options).\n1. Enter the **Name** of the query parameter. This depends on your API. For example, a lot of APIs use a query parameter named `limit` to set page size. So **Name** would be `limit`.\n1. In **Value**, enter your page size.",
  "code_samples": [
    {
      "code": "{{ $response.body[\"next-page\"] }}",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Enable pagination",
      "id": "enable-pagination"
    },
    {
      "level": "h2",
      "text": "Use a URL from the response to get the next page using `$response`",
      "id": "use-a-url-from-the-response-to-get-the-next-page-using-`$response`"
    },
    {
      "level": "h2",
      "text": "Get the next page by number using `$pageCount`",
      "id": "get-the-next-page-by-number-using-`$pagecount`"
    },
    {
      "level": "h2",
      "text": "Navigate pagination through body parameters",
      "id": "navigate-pagination-through-body-parameters"
    },
    {
      "level": "h2",
      "text": "Set the page size in the query",
      "id": "set-the-page-size-in-the-query"
    }
  ],
  "url": "llms-txt#pagination-in-the-http-request-node",
  "links": []
}