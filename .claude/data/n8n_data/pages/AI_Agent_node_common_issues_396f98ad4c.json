{
  "title": "AI Agent node common issues",
  "content": "Here are some common errors and issues with the [AI Agent node](../) and steps to resolve or troubleshoot them.\n\n## Internal error: 400 Invalid value for 'content'\n\nA full error message might look like this:\n\nThis error can occur if the **Prompt** input contains a null value.\n\nYou might see this in one of two scenarios:\n\n1. When you've set the **Prompt** to **Define below** and have an expression in your **Text** that isn't generating a value.\n   - To resolve, make sure your expressions reference valid fields and that they resolve to valid input rather than null.\n1. When you've set the **Prompt** to **Connected Chat Trigger Node** and the incoming data has null values.\n   - To resolve, remove any null values from the `chatInput` field of the input node.\n\n## Error in sub-node Simple Memory\n\nThis error displays when n8n runs into an issue with the [Simple Memory](../../../sub-nodes/n8n-nodes-langchain.memorybufferwindow/) sub-node.\n\nIt most often occurs when your workflow or the workflow template you copied uses an older version of the Simple memory node (previously known as \"Window Buffer Memory\").\n\nTry removing the Simple Memory node from your workflow and re-adding it, which will guarantee you're using the latest version of the node.\n\n## A Chat Model sub-node must be connected error\n\nThis error displays when n8n tries to execute the node without having a Chat Model connected.\n\nTo resolve this, click the + Chat Model button at the bottom of your screen when the node is open, or click the Chat Model + connector when the node is closed. n8n will then open a selection of possible Chat Models to pick from.\n\n## No prompt specified error\n\nThis error occurs when the agent expects to get the prompt from the previous node automatically. Typically, this happens when you're using the [Chat Trigger Node](../../../../core-nodes/n8n-nodes-langchain.chattrigger/).\n\nTo resolve this issue, find the **Prompt** parameter of the AI Agent node and change it from **Connected Chat Trigger Node** to **Define below**. This allows you to manually build your prompt by referencing output data from other nodes or by adding static text.",
  "code_samples": [
    {
      "code": "Internal error\nError: 400 Invalid value for 'content': expected a string, got null.\n<stack-trace>",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Internal error: 400 Invalid value for 'content'",
      "id": "internal-error:-400-invalid-value-for-'content'"
    },
    {
      "level": "h2",
      "text": "Error in sub-node Simple Memory",
      "id": "error-in-sub-node-simple-memory"
    },
    {
      "level": "h2",
      "text": "A Chat Model sub-node must be connected error",
      "id": "a-chat-model-sub-node-must-be-connected-error"
    },
    {
      "level": "h2",
      "text": "No prompt specified error",
      "id": "no-prompt-specified-error"
    }
  ],
  "url": "llms-txt#ai-agent-node-common-issues",
  "links": []
}