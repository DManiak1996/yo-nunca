{
  "title": "Error handling in n8n nodes",
  "content": "Proper error handling is crucial for creating robust n8n nodes that provide clear feedback to users when things go wrong. n8n provides two specialized error classes to handle different types of failures in node implementations:\n\n- [**`NodeApiError`**](#nodeapierror): For API-related errors and external service failures\n- [**`NodeOperationError`**](#nodeoperationerror): For operational errors, validation failures, and configuration issues\n\nUse `NodeApiError` when dealing with external API calls and HTTP requests. This error class is specifically designed to handle API response errors and provides enhanced features for parsing and presenting API-related failures such as:\n\n- HTTP request failures\n- external API errors\n- authentication/authorization failures\n- rate limiting errors\n- service unavailable errors\n\nInitialize new `NodeApiError` instances using the following pattern:\n\n### Common usage patterns\n\nFor basic API request failures, catch the error and wrap it in `NodeApiError`:\n\nHandle specific HTTP status codes with custom messages:\n\n## NodeOperationError\n\nUse `NodeOperationError` for:\n\n- operational errors\n- validation failures\n- configuration issues that aren't related to external API calls\n- input validation errors\n- missing required parameters\n- data transformation errors\n- workflow logic errors\n\nInitialize new `NodeOperationError` instances using the following pattern:\n\n### Common usage patterns\n\nUse `NodeOperationError` for validating user inputs:\n\nWhen processing multiple items, include the item index for better error context:",
  "code_samples": [
    {
      "code": "new NodeApiError(node: INode, errorResponse: JsonObject, options?: NodeApiErrorOptions)",
      "language": "unknown"
    },
    {
      "code": "try {\n\tconst response = await this.helpers.requestWithAuthentication.call(\n\t\tthis,\n\t\tcredentialType,\n\t\toptions\n\t);\n\treturn response;\n} catch (error) {\n\tthrow new NodeApiError(this.getNode(), error as JsonObject);\n}",
      "language": "unknown"
    },
    {
      "code": "try {\n\tconst response = await this.helpers.requestWithAuthentication.call(\n\t\tthis,\n\t\tcredentialType,\n\t\toptions\n\t);\n\treturn response;\n} catch (error) {\n\tif (error.httpCode === \"404\") {\n\t\tconst resource = this.getNodeParameter(\"resource\", 0) as string;\n\t\tconst errorOptions = {\n\t\t\tmessage: `${\n\t\t\t\tresource.charAt(0).toUpperCase() + resource.slice(1)\n\t\t\t} not found`,\n\t\t\tdescription:\n\t\t\t\t\"The requested resource could not be found. Please check your input parameters.\",\n\t\t};\n\t\tthrow new NodeApiError(\n\t\t\tthis.getNode(),\n\t\t\terror as JsonObject,\n\t\t\terrorOptions\n\t\t);\n\t}\n\n\tif (error.httpCode === \"401\") {\n\t\tthrow new NodeApiError(this.getNode(), error as JsonObject, {\n\t\t\tmessage: \"Authentication failed\",\n\t\t\tdescription: \"Please check your credentials and try again.\",\n\t\t});\n\t}\n\n\tthrow new NodeApiError(this.getNode(), error as JsonObject);\n}",
      "language": "unknown"
    },
    {
      "code": "new NodeOperationError(node: INode, error: Error | string | JsonObject, options?: NodeOperationErrorOptions)",
      "language": "unknown"
    },
    {
      "code": "const email = this.getNodeParameter(\"email\", itemIndex) as string;\n\nif (email.indexOf(\"@\") === -1) {\n\tconst description = `The email address '${email}' in the 'email' field isn't valid`;\n\tthrow new NodeOperationError(this.getNode(), \"Invalid email address\", {\n\t\tdescription,\n\t\titemIndex, // for multiple items, this will link the error to the specific item\n\t});\n}",
      "language": "unknown"
    },
    {
      "code": "for (let i = 0; i < items.length; i++) {\n\ttry {\n\t\t// Process item\n\t\tconst result = await processItem(items[i]);\n\t\treturnData.push(result);\n\t} catch (error) {\n\t\tif (this.continueOnFail()) {\n\t\t\treturnData.push({\n\t\t\t\tjson: { error: error.message },\n\t\t\t\tpairedItem: { item: i },\n\t\t\t});\n\t\t\tcontinue;\n\t\t}\n\n\t\tthrow new NodeOperationError(this.getNode(), error as Error, {\n\t\t\tdescription: error.description,\n\t\t\titemIndex: i,\n\t\t});\n\t}\n}",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "NodeApiError",
      "id": "nodeapierror"
    },
    {
      "level": "h3",
      "text": "Common usage patterns",
      "id": "common-usage-patterns"
    },
    {
      "level": "h2",
      "text": "NodeOperationError",
      "id": "nodeoperationerror"
    },
    {
      "level": "h3",
      "text": "Common usage patterns",
      "id": "common-usage-patterns"
    }
  ],
  "url": "llms-txt#error-handling-in-n8n-nodes",
  "links": []
}