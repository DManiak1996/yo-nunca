{
  "title": "Copy work between environments",
  "content": "The steps to send work from one n8n instance to another are different depending on whether you use a single Git branch or multiple branches.\n\nIf you have a single Git branch the steps to copy work are:\n\n1. Push work from one instance to the Git branch.\n1. Log in to the other instance to pull the work from Git. You can [automate pulls](#automatically-send-changes-to-n8n).\n\nIf you have more than one Git branch, you need to merge the branches in your Git provider to copy work between environments. You can't copy work directly between environments in n8n.\n\n1. Do work in your developments instance.\n1. Push the work to the development branch in Git.\n1. Merge your development branch into your production branch. Refer to the documentation for your Git provider for guidance on doing this:\n   - [GitHub: Creating a pull request](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request)\n   - [GitLab: Creating merge requests](https://docs.gitlab.com/ee/user/project/merge_requests/creating_merge_requests.html)\n   - [Git: Basic branching and merging](https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging)\n1. In your production n8n instance, pull the changes. You can [automate pulls](#automatically-send-changes-to-n8n).\n\n## Automatically send changes to n8n\n\nYou can automate parts of the process of copying work, using the `/source-control/pull` API endpoint. Call the API after merging the changes:\n\nThis means you can use a GitHub Action or GitLab CI/CD to automatically pull changes to the production instance on merge.\n\nA GitHub Action example:",
  "code_samples": [
    {
      "code": "curl --request POST \\\n\t--location '<YOUR-INSTANCE-URL>/api/v1/source-control/pull' \\\n\t--header 'Content-Type: application/json' \\\n\t--header 'X-N8N-API-KEY: <YOUR-API-KEY>' \\\n\t--data '{\"force\": true}'",
      "language": "unknown"
    },
    {
      "code": "name: CI\non:\n  # Trigger the workflow on push or pull request events for the \"production\" branch\n  push:\n    branches: [ \"production\" ]\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\njobs:\n  run-pull:\n    runs-on: ubuntu-latest\n    steps:\n      - name: PULL\n\t\t\t\t# Use GitHub secrets to protect sensitive information\n        run: >\n          curl --location '${{ secrets.INSTANCE_URL }}/version-control/pull' --header\n          'Content-Type: application/json' --header 'X-N8N-API-KEY: ${{ secrets.INSTANCE_API_KEY }}'",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Single branch",
      "id": "single-branch"
    },
    {
      "level": "h2",
      "text": "Multiple branches",
      "id": "multiple-branches"
    },
    {
      "level": "h2",
      "text": "Automatically send changes to n8n",
      "id": "automatically-send-changes-to-n8n"
    }
  ],
  "url": "llms-txt#copy-work-between-environments",
  "links": []
}