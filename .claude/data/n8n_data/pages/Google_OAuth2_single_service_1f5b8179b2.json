{
  "title": "Google: OAuth2 single service",
  "content": "This document contains instructions for creating a Google credential for a single service. They're also available as a [video](#video).\n\nNote for n8n Cloud users\n\nFor the following nodes, you can authenticate by selecting **Sign in with Google** in the OAuth section:\n\n- [Google Calendar](../../../app-nodes/n8n-nodes-base.googlecalendar/)\n- [Google Contacts](../../../app-nodes/n8n-nodes-base.googlecontacts/)\n- [Google Drive](../../../app-nodes/n8n-nodes-base.googledrive/)\n- [Google Mail](../../../app-nodes/n8n-nodes-base.gmail/)\n- [Google Sheets](../../../app-nodes/n8n-nodes-base.googlesheets/)\n- [Google Sheets Trigger](../../../trigger-nodes/n8n-nodes-base.googlesheetstrigger/)\n- [Google Tasks](../../../app-nodes/n8n-nodes-base.googletasks/)\n\n- Create a [Google Cloud](https://cloud.google.com/) account.\n\nThere are five steps to connecting your n8n credential to Google services:\n\n1. [Create a Google Cloud Console project](#create-a-google-cloud-console-project).\n1. [Enable APIs](#enable-apis).\n1. [Configure your OAuth consent screen](#configure-your-oauth-consent-screen).\n1. [Create your Google OAuth client credentials](#create-your-google-oauth-client-credentials).\n1. [Finish your n8n credential](#finish-your-n8n-credential).\n\n### Create a Google Cloud Console project\n\nFirst, create a Google Cloud Console project. If you already have a project, jump to the [next section](#enable-apis):\n\n1. Log in to your [Google Cloud Console](https://console.cloud.google.com) using your Google credentials.\n\n1. In the top menu, select the project dropdown in the top navigation and select **New project** or go directly to the [New Project](https://console.cloud.google.com/projectcreate) page.\n\n1. Enter a **Project name** and select the **Location** for your project.\n\n1. Select **Create**.\n\n1. Check the top navigation and make sure the project dropdown has your project selected. If not, select the project you just created.\n\nCheck the project dropdown in the Google Cloud top navigation\n\nWith your project created, enable the APIs you'll need access to:\n\n1. Access your [Google Cloud Console - Library](https://console.cloud.google.com/apis/library). Make sure you're in the correct project.\n\nCheck the project dropdown in the Google Cloud top navigation\n\n1. Go to **APIs & Services > Library**.\n\n1. Search for and select the API(s) you want to enable. For example, for the Gmail node, search for and enable the Gmail API.\n\n1. Some integrations require other APIs or require you to request access:\n\n- Google Perspective: [Request API Access](https://developers.perspectiveapi.com/s/docs-get-started).\n   - Google Ads: Get a [Developer Token](https://developers.google.com/google-ads/api/docs/first-call/dev-token).\n\nGoogle Drive API required\n\nThe following integrations require the Google Drive API, as well as their own API:\n\n- Google Docs\n   - Google Sheets\n   - Google Slides\n\nIn addition to the Vertex AI API you will also need to enable the [Cloud Resource Manager API](https://console.cloud.google.com/apis/api/cloudresourcemanager.googleapis.com/).\n\n1. Select **ENABLE**.\n\n### Configure your OAuth consent screen\n\nIf you haven't used OAuth in your Google Cloud project before, you'll need to [configure the OAuth consent screen](https://developers.google.com/workspace/guides/configure-oauth-consent):\n\n1. Access your [Google Cloud Console - Library](https://console.cloud.google.com/apis/library). Make sure you're in the correct project.\n\nCheck the project dropdown in the Google Cloud top navigation\n\n1. Open the left navigation menu and go to **APIs & Services > OAuth consent screen**. Google will redirect you to the Google Auth Platform overview page.\n\n1. Select **Get started** on the **Overview** tab to begin configuring OAuth consent.\n\n1. Enter an **App name** and **User support email** to include on the Oauth screen. Select **Next** to continue.\n\n1. For the **Audience**, select **Internal** for user access within your organization's Google workspace or **External** for any user with a Google account. Refer to Google's [User type documentation](https://support.google.com/cloud/answer/15549945?sjid=17061891731152303663-EU#user-type) for more information on user types. Select **Next** to continue.\n\n1. Select the **Email addresses** Google should use to contact you about changes to your project. Select **Next** to continue.\n\n1. Read and accept the Google's User Data Policy. Select **Continue** and then select **Create**.\n\n1. In the left-hand menu, select **Branding**.\n\n1. In the **Authorized domains** section, select **Add domain**:\n\n- If you're using n8n's Cloud service, add `n8n.cloud`\n   - If you're [self-hosting](../../../../../hosting/), add the domain of your n8n instance.\n\n1. Select **Save** at the bottom of the page.\n\n### Create your Google OAuth client credentials\n\nNext, create the OAuth client credentials in Google:\n\n1. Access your [Google Cloud Console](https://console.cloud.google.com/). Make sure you're in the correct project.\n1. In the **APIs & Services** section, select [**Credentials**](https://console.cloud.google.com/apis/credentials).\n1. Select **+ Create credentials** > **OAuth client ID**.\n1. In the **Application type** dropdown, select **Web application**.\n1. Google automatically generates a **Name**. Update the **Name** to something you'll recognize in your console.\n1. From your n8n credential, copy the **OAuth Redirect URL**. Paste it into the **Authorized redirect URIs** in Google Console.\n1. Select **Create**.\n\n### Finish your n8n credential\n\nWith the Google project and credentials fully configured, finish the n8n credential:\n\n1. From Google's **OAuth client created** modal, copy the **Client ID**. Enter this in your n8n credential.\n1. From the same Google modal, copy the **Client Secret**. Enter this in your n8n credential.\n1. In n8n, select **Sign in with Google** to complete your Google authentication.\n1. **Save** your new credentials.\n\n### Google hasn't verified this app\n\nIf using the OAuth authentication method, you might see the warning **Google hasn't verified this app**. To avoid this:\n\n- If your app **User Type** is **Internal**, create OAuth credentials from the same account you want to authenticate.\n- If your app **User Type** is **External**, you can add your email to the list of testers for the app: go to the [**Audience**](https://console.cloud.google.com/auth/audience) page and add the email you're signing in with to the list of **Test users**.\n\nIf you need to use credentials generated by another account (by a developer or another third party), follow the instructions in [Google Cloud documentation | Authorization errors: Google hasn't verified this app](https://developers.google.com/nest/device-access/reference/errors/authorization#google_hasnt_verified_this_app).\n\n### Google Cloud app becoming unauthorized\n\nFor Google Cloud apps with **Publishing status** set to **Testing** and **User type** set to **External**, consent and tokens expire after seven days. Refer to [Google Cloud Platform Console Help | Setting up your OAuth consent screen](https://support.google.com/cloud/answer/10311615?hl=en#zippy=%2Ctesting) for more information. To resolve this, reconnect the app in the n8n credentials modal.",
  "code_samples": [],
  "headings": [
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Set up OAuth",
      "id": "set-up-oauth"
    },
    {
      "level": "h3",
      "text": "Create a Google Cloud Console project",
      "id": "create-a-google-cloud-console-project"
    },
    {
      "level": "h3",
      "text": "Enable APIs",
      "id": "enable-apis"
    },
    {
      "level": "h3",
      "text": "Configure your OAuth consent screen",
      "id": "configure-your-oauth-consent-screen"
    },
    {
      "level": "h3",
      "text": "Create your Google OAuth client credentials",
      "id": "create-your-google-oauth-client-credentials"
    },
    {
      "level": "h3",
      "text": "Finish your n8n credential",
      "id": "finish-your-n8n-credential"
    },
    {
      "level": "h2",
      "text": "Video",
      "id": "video"
    },
    {
      "level": "h2",
      "text": "Troubleshooting",
      "id": "troubleshooting"
    },
    {
      "level": "h3",
      "text": "Google hasn't verified this app",
      "id": "google-hasn't-verified-this-app"
    },
    {
      "level": "h3",
      "text": "Google Cloud app becoming unauthorized",
      "id": "google-cloud-app-becoming-unauthorized"
    }
  ],
  "url": "llms-txt#google:-oauth2-single-service",
  "links": []
}