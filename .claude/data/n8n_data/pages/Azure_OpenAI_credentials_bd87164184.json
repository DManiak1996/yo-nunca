{
  "title": "Azure OpenAI credentials",
  "content": "You can use these credentials to authenticate the following nodes:\n\n- [Chat Azure OpenAI](../../cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatazureopenai/)\n- [Embeddings Azure OpenAI](../../cluster-nodes/sub-nodes/n8n-nodes-langchain.embeddingsazureopenai/)\n\n- Create an [Azure](https://azure.microsoft.com) subscription.\n- Access to Azure OpenAI within that subscription. You may need to [request access](https://aka.ms/oai/access) if your organization doesn't yet have it.\n\n## Supported authentication methods\n\n- API key\n- Azure Entra ID (OAuth2)\n\nRefer to [Azure OpenAI's API documentation](https://learn.microsoft.com/en-us/azure/ai-services/openai/reference) for more information about the service.\n\nTo configure this credential, you'll need:\n\n- A **Resource Name**: the **Name** you give the resource\n- An **API key**: **Key 1** works well. This can be accessed before deployment in **Keys and Endpoint**.\n- The **API Version** the credentials should use. See the [Azure OpenAI API preview lifecycle documentation](https://learn.microsoft.com/en-us/azure/ai-services/openai/api-version-deprecation) for more information about API versioning in Azure OpenAI.\n\nTo get the information above, [create and deploy an Azure OpenAI Service resource](https://learn.microsoft.com/en-us/azure/ai-services/openai/how-to/create-resource).\n\nModel name for Azure OpenAI nodes\n\nOnce you deploy the resource, use the **Deployment name** as the model name for the Azure OpenAI nodes where you're using this credential.\n\n## Using Azure Entra ID (OAuth2)\n\nNote for n8n Cloud users\n\nCloud users don't need to provide connection details. Select **Connect my account** to connect through your browser.\n\nFor self-hosted users, there are two main steps to configure OAuth2 from scratch:\n\n1. [Register an application](#register-an-application) with the Microsoft Identity Platform.\n1. [Generate a client secret](#generate-a-client-secret) for that application.\n\nFollow the detailed instructions for each step below. For more detail on the Microsoft OAuth2 web flow, refer to [Microsoft authentication and authorization basics](https://learn.microsoft.com/en-us/graph/auth/auth-concepts).\n\n### Register an application\n\nRegister an application with the Microsoft Identity Platform:\n\n1. Open the [Microsoft Application Registration Portal](https://aka.ms/appregistrations).\n1. Select **Register an application**.\n1. Enter a **Name** for your app.\n1. In **Supported account types**, select **Accounts in any organizational directory (Any Azure AD directory - Multi-tenant) and personal Microsoft accounts (for example, Skype, Xbox)**.\n1. In **Register an application**:\n   1. Copy the **OAuth Callback URL** from your n8n credential.\n   1. Paste it into the **Redirect URI (optional)** field.\n   1. Select **Select a platform** > **Web**.\n1. Select **Register** to finish creating your application.\n1. Copy the **Application (client) ID** and paste it into n8n as the **Client ID**.\n\nRefer to [Register an application with the Microsoft Identity Platform](https://learn.microsoft.com/en-us/graph/auth-register-app-v2) for more information.\n\n### Generate a client secret\n\nWith your application created, generate a client secret for it:\n\n1. On your Microsoft application page, select **Certificates & secrets** in the left navigation.\n1. In **Client secrets**, select **+ New client secret**.\n1. Enter a **Description** for your client secret, such as `n8n credential`.\n1. Select **Add**.\n1. Copy the **Secret** in the **Value** column.\n1. Paste it into n8n as the **Client Secret**.\n1. Select **Connect my account** in n8n to finish setting up the connection.\n1. Log in to your Microsoft account and allow the app to access your info.\n\nRefer to Microsoft's [Add credentials](https://learn.microsoft.com/en-us/graph/auth-register-app-v2#add-credentials) for more information on adding a client secret.\n\n## Setting custom scopes\n\nAzure Entra ID credentials use the following scopes by default:\n\n- [`openid`](https://learn.microsoft.com/en-us/entra/identity-platform/scopes-oidc#the-openid-scope)\n- [`offline_access`](https://learn.microsoft.com/en-us/entra/identity-platform/scopes-oidc#the-offline_access-scope)\n- [`AccessReview.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#accessreviewreadwriteall)\n- [`Directory.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#directoryreadwriteall)\n- [`NetworkAccessPolicy.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#networkaccesspolicyreadwriteall)\n- [`DelegatedAdminRelationship.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#delegatedadminrelationshipreadwriteall)\n- [`EntitlementManagement.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#entitlementmanagementreadwriteall)\n- [`User.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#userreadwriteall)\n- [`Directory.AccessAsUser.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#directoryaccessasuserall)\n- [`Sites.FullControl.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#sitesfullcontrolall)\n- [`GroupMember.ReadWrite.All`](https://learn.microsoft.com/en-us/graph/permissions-reference#groupmemberreadwriteall)\n\nTo select different scopes for your credentials, enable the **Custom Scopes** slider and edit the **Enabled Scopes** list. Keep in mind that some features may not work as expected with more restrictive scopes.",
  "code_samples": [],
  "headings": [
    {
      "level": "h2",
      "text": "Prerequisites",
      "id": "prerequisites"
    },
    {
      "level": "h2",
      "text": "Supported authentication methods",
      "id": "supported-authentication-methods"
    },
    {
      "level": "h2",
      "text": "Related resources",
      "id": "related-resources"
    },
    {
      "level": "h2",
      "text": "Using API key",
      "id": "using-api-key"
    },
    {
      "level": "h2",
      "text": "Using Azure Entra ID (OAuth2)",
      "id": "using-azure-entra-id-(oauth2)"
    },
    {
      "level": "h3",
      "text": "Register an application",
      "id": "register-an-application"
    },
    {
      "level": "h3",
      "text": "Generate a client secret",
      "id": "generate-a-client-secret"
    },
    {
      "level": "h2",
      "text": "Setting custom scopes",
      "id": "setting-custom-scopes"
    }
  ],
  "url": "llms-txt#azure-openai-credentials",
  "links": []
}