{
  "title": "Plan and Execute Agent node",
  "content": "The Plan and Execute Agent is like the [ReAct agent](../react-agent/) but with a focus on planning. It first creates a high-level plan to solve the given task and then executes the plan step by step. This agent is most useful for tasks that require a structured approach and careful planning.\n\nRefer to [AI Agent](../) for more information on the AI Agent node itself.\n\nConfigure the Plan and Execute Agent using the following parameters.\n\nSelect how you want the node to construct the prompt (also known as the user's query or input from the chat).\n\n- **Take from previous node automatically**: If you select this option, the node expects an input from a previous node called `chatInput`.\n- **Define below**: If you select this option, provide either static text or an expression for dynamic content to serve as the prompt in the **Prompt (User Message)** field.\n\n### Require Specific Output Format\n\nThis parameter controls whether you want the node to require a specific output format. When turned on, n8n prompts you to connect one of these output parsers to the node:\n\n- [Auto-fixing Output Parser](../../../sub-nodes/n8n-nodes-langchain.outputparserautofixing/)\n- [Item List Output Parser](../../../sub-nodes/n8n-nodes-langchain.outputparseritemlist/)\n- [Structured Output Parser](../../../sub-nodes/n8n-nodes-langchain.outputparserstructured/)\n\nRefine the Plan and Execute Agent node's behavior using these options:\n\n### Human Message Template\n\nEnter a message that n8n will send to the agent during each step execution.\n\nAvailable LangChain expressions:\n\n- `{previous_steps}`: Contains information about the previous steps the agent's already completed.\n- `{current_step}`: Contains information about the current step.\n- `{agent_scratchpad}`: Information to remember for the next iteration.\n\n## Templates and examples\n\nRefer to the main AI Agent node's [Templates and examples](../#templates-and-examples) section.\n\nFor common questions or issues and suggested solutions, refer to [Common issues](../common-issues/).",
  "code_samples": [],
  "headings": [
    {
      "level": "h2",
      "text": "Node parameters",
      "id": "node-parameters"
    },
    {
      "level": "h3",
      "text": "Prompt",
      "id": "prompt"
    },
    {
      "level": "h3",
      "text": "Require Specific Output Format",
      "id": "require-specific-output-format"
    },
    {
      "level": "h2",
      "text": "Node options",
      "id": "node-options"
    },
    {
      "level": "h3",
      "text": "Human Message Template",
      "id": "human-message-template"
    },
    {
      "level": "h2",
      "text": "Templates and examples",
      "id": "templates-and-examples"
    },
    {
      "level": "h2",
      "text": "Common issues",
      "id": "common-issues"
    }
  ],
  "url": "llms-txt#plan-and-execute-agent-node",
  "links": []
}