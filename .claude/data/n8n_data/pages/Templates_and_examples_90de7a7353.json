{
  "title": "Templates and examples",
  "content": "Here are some templates and examples for the [Remove Duplicates node](../).\n\nThe examples included in this section are a sequence. Follow from one to another to avoid unexpected results.\n\n[Browse Templates and examples integration templates](https://n8n.io/integrations/remove-duplicates/), or [search all templates](https://n8n.io/workflows/)\n\n## Set up sample data using the Code node\n\nCreate a workflow with some example input data to try out the Remove Duplicates node.\n\n1. Add a Code node to the canvas and connect it to the Manual Trigger node.\n\n1. In the Code node, set **Mode** to **Run Once for Each Item** and **Language** to **JavaScript**.\n\n1. Paste the following JavaScript code snippet in the **JavaScript** field:\n\n1. Add a Split Out node to the canvas and connect it to the Code node.\n\n1. In the Split Out node, enter `data` in the **Fields To Split Out** field.\n\n## Removing duplicates from the current input\n\n1. Add a Remove Duplicates node to the canvas and connect it to the Split Out node. Choose **Remove items repeated within current input** as the **Action** to start.\n1. Open the Remove Duplicates node and ensure that the **Operation** is set to **Remove Items Repeated Within Current Input**.\n1. Choose **All fields** in the **Compare** field.\n1. Select **Execute step** to run the Remove Duplicates node, removing duplicated data in the current input.\n\nn8n removes the items that have the same data across all fields. Your output in table view should look like this:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n\n5. Open the Remove Duplicates node again and change the **Compare** parameter to **Selected Fields**.\n1. In the **Fields To Compare** field, enter `job`.\n1. Select **Execute step** to run the Remove Duplicates node, removing duplicated data in the current input.\n\nn8n removes the items in the current input that have the same `job` data. Your output in table view should look like this:\n\n| **id** | **name**     | **job**           | **last_updated**         |\n| ------ | ------------ | ----------------- | ------------------------ |\n| 1      | Taylor Swift | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran   | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n\n## Keep items where the value is new\n\n1. Open the Remove Duplicates node and set the **Operation** to **Remove Items Processed in Previous Executions**.\n1. Set the **Keep Items Where** parameter to **Value Is New**.\n1. Set the **Value to Dedupe On** parameter to `{{ $json.name }}`.\n1. On the canvas, select **Execute workflow** to run the workflow. Open the Remove Duplicates node to examine the results.\n\nn8n compares the current input data to the items stored from previous executions. Since this is the first time running the Remove Duplicates node with this operation, n8n processes all data items and places them into the **Kept** output tab. The order of the items may be different than the order in the input data:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n\nItems are only compared against previous executions\n\nThe current input items are only compared against the stored items from previous executions. This means that items repeated within the current input aren't removed in this mode of operation. If you need to remove duplicate items within the current input *and* across executions, connect two Remove Duplicate nodes together sequentially. Set the first to use the **Remove Items Repated Within Current Input** operation and the second to use the **Remove Items Processed in Previous Executions** operation.\n\n5. Open the Code node and uncomment (remove the `//` from) the line for \"Tom Hanks.\"\n1. On the canvas, select **Execute workflow** again. Open the Remove Duplicates node again to examine the results.\n\nn8n compares the current input data to the items stored from previous executions. This time, the **Kept** tab contains the one new record from the Code node:\n\n| **id** | **name**  | **job** | **last_updated**         |\n| ------ | --------- | ------- | ------------------------ |\n| 9      | Tom Hanks | Actor   | 2024-10-17T13:58:31.493Z |\n\nThe **Discarded** tab contains the items processed by the previous execution:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n\nBefore continuing, clear the duplication history to get ready for the next example:\n\n7. Open the Remove Duplicates node and set the **Operation** to **Clear Deduplication History**.\n1. Select **Execute step** to clear the current duplication history.\n\n## Keep items where the value is higher than any previous value\n\n1. Open the Remove Duplicates node and set the **Operation** to **Remove Items Processed in Previous Executions**.\n1. Set the **Keep Items Where** parameter to **Value Is Higher than Any Previous Value**.\n1. Set the **Value to Dedupe On** parameter to `{{ $json.id }}`.\n1. On the canvas, select **Execute workflow** to run the workflow. Open the Remove Duplicates node to examine the results.\n\nn8n compares the current input data to the items stored from previous executions. Since this is the first time running the Remove Duplicates node after clearing the history, n8n processes all data items and places them into the **Kept** output tab. The order of the items may be different than the order in the input data:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n| 9      | Tom Hanks     | Actor             | 2024-10-17T13:58:31.493Z |\n\n5. Open the Code node and uncomment (remove the `//` from) the lines for \"Madonna\" and \"Bob Dylan.\"\n1. On the canvas, select **Execute workflow** again. Open the Remove Duplicates node again to examine the results.\n\nn8n compares the current input data to the items stored from previous executions. This time, the **Kept** tab contains a single entry for \"Bob Dylan.\" n8n keeps this item because its `id` column value (15) is higher than any previous values (the previous maximum value was 9):\n\n| **id** | **name**  | **job**     | **last_updated**         |\n| ------ | --------- | ----------- | ------------------------ |\n| 15     | Bob Dylan | Folk singer | 2024-09-24T08:03:16.493Z |\n\nThe **Discarded** tab contains the 13 items with an `id` column value equal to or less than the previous maximum value (9). Even though it's new, this table includes the entry for \"Madonna\" because its `id` value isn't larger than the previous maximum value:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 0      | Madonna       | Pop star          | 2024-10-17T17:11:38.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n| 9      | Tom Hanks     | Actor             | 2024-10-17T13:58:31.493Z |\n\nBefore continuing, clear the duplication history to get ready for the next example:\n\n7. Open the Remove Duplicates node and set the **Operation** to **Clear Deduplication History**.\n1. Select **Execute step** to clear the current duplication history.\n\n## Keep items where the value is a date later than any previous date\n\n1. Open the Remove Duplicates node and set the **Operation** to **Remove Items Processed in Previous Executions**.\n1. Set the **Keep Items Where** parameter to **Value Is a Date Later than Any Previous Date**.\n1. Set the **Value to Dedupe On** parameter to `{{ $json.last_updated }}`.\n1. On the canvas, select **Execute workflow** to run the workflow. Open the Remove Duplicates node to examine the results.\n\nn8n compares the current input data to the items stored from previous executions. Since this is the first time running the Remove Duplicates node after clearing the history, n8n processes all data items and places them into the **Kept** output tab. The order of the items may be different than the order in the input data:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 0      | Madonna       | Pop star          | 2024-10-17T17:11:38.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n| 9      | Tom Hanks     | Actor             | 2024-10-17T13:58:31.493Z |\n| 15     | Bob Dylan     | Folk singer       | 2024-09-24T08:03:16.493Z |\n\n5. Open the Code node and uncomment (remove the `//` from) the lines for \"Harry Nilsson\" and \"Kylie Minogue.\"\n\n1. On the canvas, select **Execute workflow** again. Open the Remove Duplicates node again to examine the results.\n\nn8n compares the current input data to the items stored from previous executions. This time, the **Kept** tab contains a single entry for \"Kylie Minogue.\" n8n keeps this item because its `last_updated` column value (`2024-10-24T08:03:16.493Z`) is later than any previous values (the previous latest date was `2024-10-17T17:11:38.493Z`):\n\n| **id** | **name**      | **job**  | **last_updated**         |\n| ------ | ------------- | -------- | ------------------------ |\n| 11     | Kylie Minogue | Pop star | 2024-10-24T08:03:16.493Z |\n\nThe **Discarded** tab contains the 15 items with a `last_updated` column value equal to or earlier than the previous latest date (`2024-10-17T17:11:38.493Z`). Even though it's new, this table includes the entry for \"Harry Nilsson\" because its `last_updated` value isn't later than the previous maximum value:\n\n| **id** | **name**      | **job**           | **last_updated**         |\n| ------ | ------------- | ----------------- | ------------------------ |\n| 10     | Harry Nilsson | Singer-songwriter | 2020-10-17T17:11:38.493Z |\n| 0      | Madonna       | Pop star          | 2024-10-17T17:11:38.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 1      | Taylor Swift  | Pop star          | 2024-09-20T10:12:43.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 2      | Ed Sheeran    | Singer-songwriter | 2024-10-05T08:30:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 3      | Adele         | Singer-songwriter | 2024-10-07T14:15:59.493Z |\n| 4      | Bruno Mars    | Singer-songwriter | 2024-08-25T17:45:12.493Z |\n| 5      | Billie Eilish | Singer-songwriter | 2024-09-10T09:30:12.493Z |\n| 6      | Katy Perry    | Pop star          | 2024-10-08T12:30:45.493Z |\n| 7      | Lady Gaga     | Pop star          | 2024-09-15T14:45:30.493Z |\n| 8      | Rihanna       | Pop star          | 2024-10-01T11:50:22.493Z |\n| 9      | Tom Hanks     | Actor             | 2024-10-17T13:58:31.493Z |\n| 15     | Bob Dylan     | Folk singer       | 2024-09-24T08:03:16.493Z |",
  "code_samples": [
    {
      "code": "let data =[];\n\n   return {\n     data: [\n       { id: 1, name: 'Taylor Swift', job: 'Pop star', last_updated: '2024-09-20T10:12:43.493Z' },\n       { id: 2, name: 'Ed Sheeran', job: 'Singer-songwriter', last_updated: '2024-10-05T08:30:59.493Z' },\n       { id: 3, name: 'Adele', job: 'Singer-songwriter', last_updated: '2024-10-07T14:15:59.493Z' },\n       { id: 4, name: 'Bruno Mars', job: 'Singer-songwriter', last_updated: '2024-08-25T17:45:12.493Z' },\n       { id: 1, name: 'Taylor Swift', job: 'Pop star', last_updated: '2024-09-20T10:12:43.493Z' },  // duplicate\n       { id: 5, name: 'Billie Eilish', job: 'Singer-songwriter', last_updated: '2024-09-10T09:30:12.493Z' },\n       { id: 6, name: 'Katy Perry', job: 'Pop star', last_updated: '2024-10-08T12:30:45.493Z' },\n       { id: 2, name: 'Ed Sheeran', job: 'Singer-songwriter', last_updated: '2024-10-05T08:30:59.493Z' },  // duplicate\n       { id: 7, name: 'Lady Gaga', job: 'Pop star', last_updated: '2024-09-15T14:45:30.493Z' },\n       { id: 8, name: 'Rihanna', job: 'Pop star', last_updated: '2024-10-01T11:50:22.493Z' },\n       { id: 3, name: 'Adele', job: 'Singer-songwriter', last_updated: '2024-10-07T14:15:59.493Z' },  // duplicate\n       //{ id: 9, name: 'Tom Hanks', job: 'Actor', last_updated: '2024-10-17T13:58:31.493Z' },\n       //{ id: 0, name: 'Madonna', job: 'Pop star', last_updated: '2024-10-17T17:11:38.493Z' },\n       //{ id: 15, name: 'Bob Dylan', job: 'Folk singer', last_updated: '2024-09-24T08:03:16.493Z'},\n       //{ id: 10, name: 'Harry Nilsson', job: 'Singer-songwriter', last_updated: '2020-10-17T17:11:38.493Z' },\n       //{ id: 11, name: 'Kylie Minogue', job: 'Pop star', last_updated: '2024-10-24T08:03:16.493Z'},\n     ]\n   }",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Templates",
      "id": "templates"
    },
    {
      "level": "h2",
      "text": "Set up sample data using the Code node",
      "id": "set-up-sample-data-using-the-code-node"
    },
    {
      "level": "h2",
      "text": "Removing duplicates from the current input",
      "id": "removing-duplicates-from-the-current-input"
    },
    {
      "level": "h2",
      "text": "Keep items where the value is new",
      "id": "keep-items-where-the-value-is-new"
    },
    {
      "level": "h2",
      "text": "Keep items where the value is higher than any previous value",
      "id": "keep-items-where-the-value-is-higher-than-any-previous-value"
    },
    {
      "level": "h2",
      "text": "Keep items where the value is a date later than any previous date",
      "id": "keep-items-where-the-value-is-a-date-later-than-any-previous-date"
    }
  ],
  "url": "llms-txt#templates-and-examples",
  "links": []
}