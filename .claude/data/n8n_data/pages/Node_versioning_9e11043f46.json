{
  "title": "Node versioning",
  "content": "n8n supports node versioning. You can make changes to existing nodes without breaking the existing behavior by introducing a new version.\n\nBe aware of how n8n decides which node version to load:\n\n- If a user builds and saves a workflow using version 1, n8n continues to use version 1 in that workflow, even if you create and publish a version 2 of the node.\n- When a user creates a new workflow and browses for nodes, n8n always loads the latest version of the node.\n\nVersioning type restricted by node style\n\nIf you build a node using the declarative style, you can't use full versioning.\n\nThis is available for all node types.\n\nOne node can contain more than one version, allowing small version increments without code duplication. To use this feature:\n\n1. Change the main `version` parameter to an array, and add your version numbers, including your existing version.\n1. You can then access the version parameter with `@version` in your `displayOptions` in any object (to control which versions n8n displays the object with). You can also query the version from a function using `const nodeVersion = this.getNode().typeVersion;`.\n\nAs an example, say you want to add versioning to the NasaPics node from the [Declarative node tutorial](../../declarative-style-node/), then configure a resource so that n8n only displays it in version 2 of the node. In your base `NasaPics.node.ts` file:\n\nThis isn't available for declarative-style nodes.\n\nAs an example, refer to the [Mattermost node](https://github.com/n8n-io/n8n/tree/master/packages/nodes-base/nodes/Mattermost).\n\nFull versioning summary:\n\n- The base node file should extend `NodeVersionedType` instead of `INodeType`.\n- The base node file should contain a description including the `defaultVersion` (usually the latest), other basic node metadata such as name, and a list of versions. It shouldn't contain any node functionality.\n- n8n recommends using `v1`, `v2`, and so on, for version folder names.",
  "code_samples": [
    {
      "code": "{\n    displayName: 'NASA Pics',\n    name: 'NasaPics',\n    icon: 'file:nasapics.svg',\n    // List the available versions\n    version: [1,2,3],\n    // More basic parameters here\n    properties: [\n        // Add a resource that's only displayed for version2\n        {\n            displayName: 'Resource name',\n            // More resource parameters\n            displayOptions: {\n                show: {\n                    '@version': 2,\n                },\n            },\n        },\n    ],\n}",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Light versioning",
      "id": "light-versioning"
    },
    {
      "level": "h2",
      "text": "Full versioning",
      "id": "full-versioning"
    }
  ],
  "url": "llms-txt#node-versioning",
  "links": []
}