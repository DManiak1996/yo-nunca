{
  "url": "https://react.dev/reference/react/useId",
  "title": "useId",
  "content": "useId is a React Hook for generating unique IDs that can be passed to accessibility attributes.\n\nCall useId at the top level of your component to generate a unique ID:\n\nSee more examples below.\n\nuseId does not take any parameters.\n\nuseId returns a unique ID string associated with this particular useId call in this particular component.\n\nuseId is a Hook, so you can only call it at the top level of your component or your own Hooks. You can’t call it inside loops or conditions. If you need that, extract a new component and move the state into it.\n\nuseId should not be used to generate keys in a list. Keys should be generated from your data.\n\nuseId currently cannot be used in async Server Components.\n\nDo not call useId to generate keys in a list. Keys should be generated from your data.\n\nCall useId at the top level of your component to generate a unique ID:\n\nYou can then pass the generated ID to different attributes:\n\nLet’s walk through an example to see when this is useful.\n\nHTML accessibility attributes like aria-describedby let you specify that two tags are related to each other. For example, you can specify that an element (like an input) is described by another element (like a paragraph).\n\nIn regular HTML, you would write it like this:\n\nHowever, hardcoding IDs like this is not a good practice in React. A component may be rendered more than once on the page—but IDs have to be unique! Instead of hardcoding an ID, generate a unique ID with useId:\n\nNow, even if PasswordField appears multiple times on the screen, the generated IDs won’t clash.\n\nWatch this video to see the difference in the user experience with assistive technologies.\n\nWith server rendering, useId requires an identical component tree on the server and the client. If the trees you render on the server and the client don’t match exactly, the generated IDs won’t match.\n\nYou might be wondering why useId is better than incrementing a global variable like nextId++.\n\nThe primary benefit of useId is that React ensures that it works with server rendering. During server rendering, your components generate HTML output. Later, on the client, hydration attaches your event handlers to the generated HTML. For hydration to work, the client output must match the server HTML.\n\nThis is very difficult to guarantee with an incrementing counter because the order in which the Client Components are hydrated may not match the order in which the server HTML was emitted. By calling useId, you ensure that hydration will work, and the output will match between the server and the client.\n\nInside React, useId is generated from the “parent path” of the calling component. This is why, if the client and the server tree are the same, the “parent path” will match up regardless of rendering order.\n\nIf you need to give IDs to multiple related elements, you can call useId to generate a shared prefix for them:\n\nThis lets you avoid calling useId for every single element that needs a unique ID.\n\nIf you render multiple independent React applications on a single page, pass identifierPrefix as an option to your createRoot or hydrateRoot calls. This ensures that the IDs generated by the two different apps never clash because every identifier generated with useId will start with the distinct prefix you’ve specified.\n\nIf you render multiple independent React apps on the same page, and some of these apps are server-rendered, make sure that the identifierPrefix you pass to the hydrateRoot call on the client side is the same as the identifierPrefix you pass to the server APIs such as renderToPipeableStream.\n\nYou do not need to pass identifierPrefix if you only have one React app on the page.",
  "headings": [
    {
      "level": "h1",
      "text": "useId",
      "id": ""
    },
    {
      "level": "h2",
      "text": "Reference",
      "id": "reference"
    },
    {
      "level": "h3",
      "text": "useId()",
      "id": "useid"
    },
    {
      "level": "h4",
      "text": "Parameters",
      "id": "parameters"
    },
    {
      "level": "h4",
      "text": "Returns",
      "id": "returns"
    },
    {
      "level": "h4",
      "text": "Caveats",
      "id": "caveats"
    },
    {
      "level": "h2",
      "text": "Usage",
      "id": "usage"
    },
    {
      "level": "h3",
      "text": "Pitfall",
      "id": ""
    },
    {
      "level": "h3",
      "text": "Generating unique IDs for accessibility attributes",
      "id": "generating-unique-ids-for-accessibility-attributes"
    },
    {
      "level": "h3",
      "text": "Pitfall",
      "id": ""
    },
    {
      "level": "h5",
      "text": "Deep Dive",
      "id": ""
    },
    {
      "level": "h4",
      "text": "Why is useId better than an incrementing counter?",
      "id": "why-is-useid-better-than-an-incrementing-counter"
    },
    {
      "level": "h3",
      "text": "Generating IDs for several related elements",
      "id": "generating-ids-for-several-related-elements"
    },
    {
      "level": "h3",
      "text": "Specifying a shared prefix for all generated IDs",
      "id": "specifying-a-shared-prefix-for-all-generated-ids"
    },
    {
      "level": "h3",
      "text": "Using the same ID prefix on the client and the server",
      "id": "using-the-same-id-prefix-on-the-client-and-the-server"
    }
  ],
  "code_samples": [
    {
      "code": "const id = useId()",
      "language": "javascript"
    },
    {
      "code": "import { useId } from 'react';function PasswordField() {  const passwordHintId = useId();  // ...",
      "language": "python"
    },
    {
      "code": "import { useId } from 'react';function PasswordField() {  const passwordHintId = useId();  // ...",
      "language": "python"
    },
    {
      "code": "<>  <input type=\"password\" aria-describedby={passwordHintId} />  <p id={passwordHintId}></>",
      "language": "unknown"
    },
    {
      "code": "<label>  Password:  <input    type=\"password\"    aria-describedby=\"password-hint\"  /></label><p id=\"password-hint\">  The password should contain at least 18 characters</p>",
      "language": "unknown"
    },
    {
      "code": "import { useId } from 'react';function PasswordField() {  const passwordHintId = useId();  return (    <>      <label>        Password:        <input          type=\"password\"          aria-describedby={passwordHintId}        />      </label>      <p id={passwordHintId}>        The password should contain at least 18 characters      </p>    </>  );}",
      "language": "python"
    },
    {
      "code": "// Serverimport { renderToPipeableStream } from 'react-dom/server';const { pipe } = renderToPipeableStream(  <App />,  { identifierPrefix: 'react-app1' });",
      "language": "python"
    },
    {
      "code": "// Clientimport { hydrateRoot } from 'react-dom/client';const domNode = document.getElementById('root');const root = hydrateRoot(  domNode,  reactNode,  { identifierPrefix: 'react-app1' });",
      "language": "python"
    }
  ],
  "patterns": [],
  "links": [
    "https://react.dev/reference/react",
    "https://react.dev/reference/react/hooks",
    "https://react.dev/reference/react/useId",
    "https://react.dev/learn/rendering-lists",
    "https://react.dev/reference/rsc/server-components",
    "https://react.dev/reference/react-dom/server",
    "https://react.dev/reference/react-dom/client/hydrateRoot",
    "https://react.dev/reference/react-dom/client/createRoot",
    "https://react.dev/reference/react-dom/server/renderToPipeableStream",
    "https://react.dev/reference/react/useEffectEvent",
    "https://react.dev/reference/react/useImperativeHandle"
  ]
}