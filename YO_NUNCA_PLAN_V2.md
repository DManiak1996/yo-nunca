# üéØ PLAN COMPLETO: YO NUNCA 2.0 - VERSI√ìN MEJORADA

## üìã RESUMEN EJECUTIVO

Transformaci√≥n completa de la app "Yo Nunca" de un juego simple a una experiencia multijugador con sistema de categor√≠as, estad√≠sticas, modo competitivo y UX mejorada.

**Tiempo estimado total:** 12-16 horas de desarrollo
**Complejidad:** Alta (arquitectura nueva, muchas features interdependientes)
**Enfoque:** Iterativo por fases, testing continuo

---

## üé® DECISIONES DE DISE√ëO CLAVE

### Tema Visual: "Taberna/Garito"
```typescript
// Nueva paleta de colores
Primario: #D4A574 (Dorado cerveza)
Secundario: #8B4513 (Marr√≥n madera)
Acento: #FF6B35 (Naranja terracota/fuego)
Fondo oscuro: #2C1810 (Marr√≥n oscuro taberna)
Fondo claro: #F4E4C1 (Beige c√°lido)
Text: #FFF5E1 (Beige claro)
```

### Sistema de Categor√≠as (4 niveles)
1. **"CAG√ìN"** - Bot√≥n troll (contador de clicks global, modal gracioso)
2. **Nivel Medio** (nombres rotatorios): "Tibio", "Hoy cojo el coche (Real)", "Mi primera vez...", "Virgen pero desesperado"
3. **Nivel Picante** (nombres rotatorios): "Picante", "Ardiente", "Cachond@ pero no tanto", "Mi primer paso para la borrachera"
4. **Nivel Muy Picante** (nombres rotatorios): "Soy un turbio", "Nah hoy de tranquis üòà", "Hoy cojo el coche (Mentira)", "El que perdona muri√≥ en la cruz", "Si ya sabes c√≥mo me pongo para qu√© me invit√°is"

### Modo Multijugador
- Por defecto: SIEMPRE multijugador
- L√≠mite: 2-20 jugadores
- Nombres autom√°ticos graciosos (borrachos famosos, animales aleatorios)
- Contadores individuales de tragos
- Todos juegan la misma frase simult√°neamente

---

## üìê ARQUITECTURA T√âCNICA

### Nuevos tipos TypeScript
```typescript
// types/index.ts
export type DifficultyLevel = 'cagon' | 'medio' | 'picante' | 'muy_picante';

export interface Player {
  id: string;
  name: string;
  drinks: number;
  avatar?: string; // emoji o icono
}

export interface GameSession {
  id: string;
  players: Player[];
  difficulty: DifficultyLevel;
  phrasesPlayed: number;
  currentPhraseIndex: number;
  createdAt: number;
  lastPlayedAt: number;
}

export interface GameStats {
  winner: Player;           // m√°s tragos
  second: Player;
  third: Player;
  mostDiablo: Player;      // m√°s tragos
  mostBendito: Player;     // menos tragos
  totalPhrases: number;
  duration: number;
}

export interface CagonCounter {
  count: number;
  lastUpdated: number;
}
```

### Nuevas pantallas
1. **CategorySelectionScreen** - Selecci√≥n de categor√≠a
2. **PlayerSetupScreen** - Configurar jugadores
3. **GameScreenMultiplayer** - Juego multijugador (reemplazo de GameScreen)
4. **StatsModal** - Estad√≠sticas en tiempo real
5. **FinalStatsModal** - Estad√≠sticas finales
6. **ResumeGameModal** - Continuar partida guardada

### Nuevos hooks
- `useGameSession()` - Gesti√≥n de sesi√≥n de juego
- `usePlayers()` - Gesti√≥n de jugadores
- `useStats()` - C√°lculo de estad√≠sticas
- `useAutoSave()` - Guardado autom√°tico

---

## üîÑ FLUJO DE NAVEGACI√ìN NUEVO

```
HomeScreen
    ‚Üì
CategorySelectionScreen (4 botones)
    ‚Üì (si "CAG√ìN" ‚Üí modal troll)
    ‚Üì (otras categor√≠as)
PlayerSetupScreen
    ‚Üì
GameScreenMultiplayer
    ‚Üì (bot√≥n finalizar)
FinalStatsModal
```

---

## üìù IMPLEMENTACI√ìN POR FASES

### **FASE A: Refactorizaci√≥n Base y Nuevos Tipos** (2-3 horas)

#### A.1 - Actualizar tipos TypeScript
- Crear nuevos interfaces (Player, GameSession, GameStats, etc.)
- Actualizar RootStackParamList con nuevas pantallas
- A√±adir DifficultyLevel type

#### A.2 - Reorganizar frases por categor√≠a
- Crear archivos separados:
  - `data/phrases/medioLevel.ts` (60 frases)
  - `data/phrases/picanteLevel.ts` (80 frases)
  - `data/phrases/muyPicanteLevel.ts` (100 frases)
- Eliminar distribuci√≥n antigua

#### A.3 - Actualizar storage utilities
- A√±adir `saveGameSession()`
- A√±adir `getGameSession()`
- A√±adir `clearGameSession()`
- A√±adir `getCagonCounter()` / `incrementCagonCounter()`

#### A.4 - Crear nuevos colores
- Actualizar `constants/Colors.ts` con tema taberna
- Crear variante "Garito" (opci√≥n futura)

**Criterios de √©xito:**
- ‚úÖ Compilaci√≥n sin errores TypeScript
- ‚úÖ Nuevos archivos de frases creados
- ‚úÖ Storage functions testeadas

---

### **FASE B: Sistema de Jugadores y Nombres Graciosos** (2 horas)

#### B.1 - Generador de nombres aleatorios
Crear `utils/funnyNames.ts`:
```typescript
const DRUNK_CELEBRITIES = [
  "Amy Winehouse", "Charles Bukowski", "Ernest Hemingway",
  "Diego Maradona", "Keith Richards", "Ozzy Osbourne",
  // ... m√°s nombres
];

const FUNNY_ANIMALS = [
  "üêª Oso borracho", "ü¶ä Zorro fiestero", "üêº Panda pachanguero",
  // ... m√°s animales
];

export function generateRandomName(): string;
export function generatePlayerList(count: number): Player[];
```

#### B.2 - Hook usePlayers
```typescript
export function usePlayers() {
  const [players, setPlayers] = useState<Player[]>([]);

  const addPlayer = (name?: string) => { /* auto-generate if empty */ };
  const removePlayer = (id: string) => {};
  const incrementDrinks = (playerId: string) => {};
  const resetAllDrinks = () => {};

  return { players, addPlayer, removePlayer, incrementDrinks, resetAllDrinks };
}
```

#### B.3 - PlayerSetupScreen
- Input de n√∫mero de jugadores (2-20)
- Lista de jugadores con nombres autogenerados
- Bot√≥n para cambiar nombre manualmente
- Bot√≥n "Comenzar juego"

**Criterios de √©xito:**
- ‚úÖ Nombres graciosos se generan aleatoriamente
- ‚úÖ Pantalla permite a√±adir/eliminar jugadores
- ‚úÖ Navegaci√≥n a GameScreen con players

---

### **FASE C: CategorySelectionScreen y Modal Cag√≥n** (1.5 horas)

#### C.1 - CategorySelectionScreen
- 4 botones grandes estilo cards
- Bot√≥n "CAG√ìN" con icono üêî
- Otros 3 botones con nombres rotatorios (random al abrir)
- Animaci√≥n fade suave al entrar

#### C.2 - Modal "CAG√ìN" (troll)
```typescript
// Frases graciosas rotatorias:
const CAGON_PHRASES = [
  "¬øEn serio? ¬øEres tan cag√≥n? üêî",
  "Esta categor√≠a es para beb√©s con pa√±ales üë∂",
  "Tu madre juega m√°s fuerte que t√∫ üòÇ",
  "Vuelve cuando crezcas un par ü•öü•ö",
  // ... m√°s frases
];
```
- Mostrar contador de clicks (AsyncStorage)
- Bot√≥n "Entendido, lo siento üòî" (cierra modal)

#### C.3 - Implementar rotaci√≥n de nombres
- useEffect al montar CategorySelectionScreen
- Seleccionar nombres random de arrays

**Criterios de √©xito:**
- ‚úÖ Modal cag√≥n funciona y guarda contador
- ‚úÖ Nombres rotan aleatoriamente cada vez
- ‚úÖ Navegaci√≥n fluida a PlayerSetup

---

### **FASE D: GameScreenMultiplayer - Juego Nuevo** (3-4 horas)

#### D.1 - Nuevo componente GameScreenMultiplayer
Reemplaza completamente el GameScreen actual.

**Layout:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚Üê Atr√°s]     [üèÜ Stats] [‚öôÔ∏è]‚îÇ (header integrado sin borde)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ   [Tarjeta con frase]       ‚îÇ
‚îÇ   "Yo nunca he..."          ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ   Quedan X frases           ‚îÇ
‚îÇ                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Lista de jugadores:         ‚îÇ
‚îÇ üé≠ Juan: 5 üç∫ [+]          ‚îÇ
‚îÇ üêº Mar√≠a: 3 üç∫ [+]         ‚îÇ
‚îÇ ü¶ä Pedro: 7 üç∫ [+]         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     [Siguiente Frase]       ‚îÇ
‚îÇ     [Finalizar Partida]     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### D.2 - Sistema de mensajes graciosos cada X rondas
```typescript
const FUNNY_MESSAGES = [
  (player) => `${player.name} es un descarado, lleva ${player.drinks} tragos üòà`,
  (player) => `Cuidado con ${player.name}, esta noche folla con la almohada üõèÔ∏è`,
  (player) => `${player.name} va a despertar con resaca nivel Dios ‚ò†Ô∏è`,
  // ... m√°s mensajes
];

// Mostrar cada 5 frases (configurable)
if (phrasesPlayed % 5 === 0) {
  showFunnyMessage(randomPlayer, 2000); // 2 segundos
}
```

#### D.3 - Bot√≥n [+] para incrementar tragos
- Cada jugador tiene bot√≥n [+] junto a su contador
- Incrementa su contador de drinks
- Animaci√≥n suave al incrementar

#### D.4 - Bot√≥n "Siguiente frase"
- Avanza a siguiente frase sin repetir
- Actualiza contador de frases jugadas
- Trigger para mensaje gracioso si aplica

#### D.5 - Bot√≥n "Finalizar partida"
- Alert de confirmaci√≥n
- Calcula estad√≠sticas finales
- Navega a FinalStatsModal

**Criterios de √©xito:**
- ‚úÖ Juego multijugador funcional
- ‚úÖ Mensajes graciosos aparecen cada 5 rondas
- ‚úÖ Contadores se actualizan correctamente
- ‚úÖ Header integrado sin bordes visibles

---

### **FASE E: Estad√≠sticas en Tiempo Real** (1.5 horas)

#### E.1 - StatsModal (bot√≥n üèÜ)
Modal que muestra durante la partida:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Estad√≠sticas Actuales   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Frases jugadas: 12/80    ‚îÇ
‚îÇ                          ‚îÇ
‚îÇ ü•á Pedro: 7 tragos       ‚îÇ
‚îÇ ü•à Juan: 5 tragos        ‚îÇ
‚îÇ ü•â Mar√≠a: 3 tragos       ‚îÇ
‚îÇ                          ‚îÇ
‚îÇ üòà M√°s diablo: Pedro     ‚îÇ
‚îÇ üòá M√°s bendito: Mar√≠a    ‚îÇ
‚îÇ                          ‚îÇ
‚îÇ     [Cerrar]             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### E.2 - Hook useStats
```typescript
export function useStats(players: Player[]) {
  const getRanking = () => {
    return players.sort((a, b) => b.drinks - a.drinks);
  };

  const getMostDiablo = () => ranking[0];
  const getMostBendito = () => ranking[ranking.length - 1];

  return { ranking, getMostDiablo, getMostBendito };
}
```

**Criterios de √©xito:**
- ‚úÖ Modal se abre/cierra correctamente
- ‚úÖ Estad√≠sticas actualizadas en tiempo real
- ‚úÖ Dise√±o limpio y legible

---

### **FASE F: Estad√≠sticas Finales (Modal Campeonato)** (2 horas)

#### F.1 - FinalStatsModal
Modal grande estilo "podio" con animaciones:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    üèÜ FIN DE LA PARTIDA    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ        ü•à               ‚îÇ
‚îÇ       Juan              ‚îÇ
‚îÇ     5 tragos            ‚îÇ
‚îÇ                         ‚îÇ
‚îÇ  ü•á           ü•â        ‚îÇ
‚îÇ Pedro        Mar√≠a      ‚îÇ
‚îÇ 7 tragos    3 tragos    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üòà M√°s diablo: Pedro (7)   ‚îÇ
‚îÇ üòá M√°s bendito: Mar√≠a (3)  ‚îÇ
‚îÇ üé≠ M√°s misterioso: [TBD]   ‚îÇ
‚îÇ üî• M√°s ardiente: [TBD]     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Total frases: 80           ‚îÇ
‚îÇ Duraci√≥n: 45 min           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  [Jugar de nuevo] [Salir]  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### F.2 - Estad√≠sticas adicionales
- "M√°s misterioso": jugador con menos incrementos pero tragos moderados
- "M√°s ardiente": jugador con m√°s incrementos seguidos
- "V√≠ctima del juego": m√°s tragos en menos frases

#### F.3 - Botones finales
- "Jugar de nuevo" ‚Üí resetea y vuelve a CategorySelection
- "Salir" ‚Üí vuelve a HomeScreen y limpia sesi√≥n

**Criterios de √©xito:**
- ‚úÖ Modal se ve como "campeonato"
- ‚úÖ Animaciones suaves al aparecer
- ‚úÖ Todas las estad√≠sticas calculadas correctamente

---

### **FASE G: Guardado Autom√°tico y Recuperaci√≥n** (1.5 horas)

#### G.1 - Hook useAutoSave
```typescript
export function useAutoSave(gameSession: GameSession) {
  useEffect(() => {
    const interval = setInterval(() => {
      saveGameSession(gameSession);
    }, 10000); // cada 10 segundos

    return () => clearInterval(interval);
  }, [gameSession]);
}
```

#### G.2 - ResumeGameModal
Modal al abrir app (en HomeScreen):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Tienes una partida en curso‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Jugadores:                 ‚îÇ
‚îÇ ‚Ä¢ Juan: 5 tragos           ‚îÇ
‚îÇ ‚Ä¢ Mar√≠a: 3 tragos          ‚îÇ
‚îÇ ‚Ä¢ Pedro: 7 tragos          ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ Frases jugadas: 12/80      ‚îÇ
‚îÇ Categor√≠a: Descarado       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [Continuar] [Nueva partida]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### G.3 - L√≥gica de recuperaci√≥n
- En HomeScreen useEffect, verificar si existe gameSession guardada
- Si existe y tiene < 24h, mostrar modal
- "Continuar" ‚Üí navega directo a GameScreen con estado restaurado
- "Nueva partida" ‚Üí limpia AsyncStorage y contin√∫a normal

**Criterios de √©xito:**
- ‚úÖ Partida se guarda cada 10 segundos
- ‚úÖ Al reabrir app, detecta partida guardada
- ‚úÖ Puede continuar desde donde lo dej√≥

---

### **FASE H: Animaciones y Polish Visual** (2 horas)

#### H.1 - Animaciones con react-native-reanimated
```bash
npx expo install react-native-reanimated
```

#### H.2 - Animaciones implementadas
- **Fade al cambiar frase** (GameScreen)
- **Slide in** para CategorySelectionScreen
- **Scale bounce** al incrementar tragos
- **Fade in/out** para mensajes graciosos
- **Confetti** al finalizar (opcional, librer√≠a react-native-confetti-cannon)

#### H.3 - Mejorar PhraseCard
- Gradiente de fondo seg√∫n categor√≠a
- Sombra m√°s pronunciada
- Border animado (glow)

#### H.4 - Splash screen mejorado
- Logo "üçª Yo Nunca" centrado
- Fondo con tema taberna
- Fade out al cargar

**Criterios de √©xito:**
- ‚úÖ Animaciones fluidas sin lag
- ‚úÖ Transiciones suaves entre pantallas
- ‚úÖ UX se siente "premium"

---

### **FASE I: Optimizaci√≥n y Testing Final** (1.5 horas)

#### I.1 - Performance
- Implementar React.memo en componentes pesados
- useCallback para funciones pasadas como props
- useMemo para c√°lculos complejos (stats)

#### I.2 - Manejo de errores mejorado
- Try/catch en todas las operaciones AsyncStorage
- Error boundaries para pantallas cr√≠ticas
- Mensajes de error user-friendly

#### I.3 - Feedback mejorado
- Toasts para acciones exitosas
- Loading states en todos los botones
- Skeleton loaders donde aplique

#### I.4 - Testing exhaustivo
- Jugar partida completa con 10 jugadores
- Probar guardado/recuperaci√≥n
- Probar con 2 jugadores y con 20
- Agotar todas las frases de una categor√≠a
- Verificar modal cag√≥n
- Verificar estad√≠sticas finales

#### I.5 - Seguridad
- Sanitizar nombres de jugadores (max length, no scripts)
- Validar datos de AsyncStorage antes de parsear
- Rate limiting en incremento de tragos (anti-spam)

**Criterios de √©xito:**
- ‚úÖ App sin crashes ni bugs conocidos
- ‚úÖ Performance fluida en emulador y dispositivo
- ‚úÖ Todos los edge cases manejados

---

### **FASE J: Frases Adicionales** (2-3 horas)

#### J.1 - Escribir nuevas frases por categor√≠a
**Medio (60 frases totales, faltan ~35):**
- Suaves pero graciosas
- Experiencias comunes
- Ligero toque sexual/alcohol

**Picante (80 frases totales, faltan ~40):**
- Experiencias m√°s atrevidas
- Contenido sexual moderado
- Situaciones vergonzosas

**Muy Picante (100 frases totales, faltan ~50):**
- Contenido sexual expl√≠cito
- Situaciones extremas/turbias
- Sin filtros

#### J.2 - Validaci√≥n de frases
- Revisar ortograf√≠a
- Verificar que no se repitan conceptos
- Asegurar variedad de temas

**Criterios de √©xito:**
- ‚úÖ 240 frases totales (60+80+100)
- ‚úÖ Frases variadas y divertidas
- ‚úÖ Sin repeticiones conceptuales

---

## üóÇÔ∏è ESTRUCTURA DE ARCHIVOS FINAL

```
yo-nunca/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.tsx (modificada)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategorySelectionScreen.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerSetupScreen.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameScreenMultiplayer.tsx (NUEVA, reemplaza GameScreen)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomPhrasesScreen.tsx (existente)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SettingsScreen.tsx (modificada)
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CustomButton.tsx (existente)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PhraseCard.tsx (mejorada)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerListItem.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatsModal.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FinalStatsModal.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ResumeGameModal.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CagonModal.tsx (NUEVA)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FunnyMessageToast.tsx (NUEVA)
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePhrases.ts (modificado)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePlayers.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useGameSession.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useStats.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAutoSave.ts (NUEVO)
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ phrases/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ medioLevel.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ picanteLevel.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ muyPicanteLevel.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ funnyNames.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ funnyMessages.ts (NUEVO)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cagonPhrases.ts (NUEVO)
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage.ts (ampliado)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ animations.ts (NUEVO)
‚îÇ   ‚îú‚îÄ‚îÄ constants/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Colors.ts (reemplazado tema taberna)
‚îÇ   ‚îî‚îÄ‚îÄ types/
‚îÇ       ‚îî‚îÄ‚îÄ index.ts (ampliado)
```

---

## ‚ö†Ô∏è RIESGOS Y CONSIDERACIONES

### Riesgos t√©cnicos:
1. **Complejidad de guardado autom√°tico** - Puede causar bugs si no se maneja bien el estado
   - Mitigaci√≥n: Testing exhaustivo, validaciones estrictas
2. **Performance con 20 jugadores** - Muchos re-renders
   - Mitigaci√≥n: React.memo, useCallback, useMemo
3. **Animaciones pueden causar lag** - Especialmente en dispositivos viejos
   - Mitigaci√≥n: Usar nativeDriver siempre que sea posible

### Riesgos de UX:
1. **Modo multijugador obligatorio puede alienar usuarios solitarios**
   - Mitigaci√≥n: Permitir 1 jugador como excepci√≥n
2. **Demasiadas pantallas puede confundir**
   - Mitigaci√≥n: Flujo lineal claro, navegaci√≥n intuitiva

### Dependencias nuevas:
```json
{
  "react-native-reanimated": "^3.x", // Animaciones
  "react-native-confetti-cannon": "^1.x" // Confetti (opcional)
}
```

---

## üß™ ESTRATEGIA DE TESTING

1. **Testing por fase** - Probar cada fase antes de continuar
2. **Testing de integraci√≥n** - Al terminar Fase I, probar flujo completo
3. **Testing en dispositivo real** - Fundamental para performance
4. **Edge cases a probar:**
   - 1 jugador
   - 20 jugadores
   - Agotar todas las frases
   - Cerrar app en medio de partida
   - Abrir app m√∫ltiples veces seguidas
   - Nombres muy largos
   - Spam en bot√≥n [+]

---

## üìä ORDEN DE EJECUCI√ìN RECOMENDADO

**Sesi√≥n 1 (4-5 horas):**
- Fase A: Refactorizaci√≥n base
- Fase B: Sistema de jugadores
- Fase C: CategorySelection

**Sesi√≥n 2 (4-5 horas):**
- Fase D: GameScreenMultiplayer (la m√°s compleja)

**Sesi√≥n 3 (3-4 horas):**
- Fase E: Stats en tiempo real
- Fase F: Stats finales
- Fase G: Guardado autom√°tico

**Sesi√≥n 4 (3-4 horas):**
- Fase H: Animaciones y polish
- Fase I: Optimizaci√≥n y testing
- Fase J: Frases adicionales

---

## ‚úÖ CHECKLIST DE COMPLETITUD

Al final, la app debe tener:
- ‚úÖ 4 categor√≠as funcionales (incluido troll de Cag√≥n)
- ‚úÖ Modo multijugador 2-20 jugadores
- ‚úÖ Nombres autom√°ticos graciosos
- ‚úÖ Contador de tragos individual
- ‚úÖ Mensajes graciosos cada 5 rondas
- ‚úÖ Estad√≠sticas en tiempo real (modal üèÜ)
- ‚úÖ Estad√≠sticas finales tipo campeonato
- ‚úÖ Guardado autom√°tico de partida
- ‚úÖ Modal de recuperaci√≥n al reabrir
- ‚úÖ Animaciones suaves
- ‚úÖ Tema visual taberna/garito
- ‚úÖ 240 frases totales (60+80+100)
- ‚úÖ Performance optimizada
- ‚úÖ Sin bugs cr√≠ticos

---

**Fecha de creaci√≥n:** 2025-10-22
**Versi√≥n:** 2.0
**Estado:** Aprobado y listo para implementaci√≥n
